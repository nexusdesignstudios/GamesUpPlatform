import{j as e,r,b as zt}from"./react-vendor-BYMxsdzO.js";import{L as Jt,P as G,S as te,K as vt,C as Fe,T as ie,U as wt,I as Ht,M as he,a as Oe,b as qt,c as Gt,d as Me,e as Vt,f as ne,g as tt,h as kt,i as Le,j as se,B as Wt,k as Qt,l as Yt,m as Kt,n as Z,o as Ge,p as Zt,D as St,q as Xt,X as Y,r as de,s as st,t as X,u as ue,E as fe,F as Ve,v as at,w as je,x as De,y as Ne,z as es,A as ts,G as ye,H as ct,J as Re,N as We,O as ss,Q as xt,R as rt,V as Ue,W as mt,Y as Ct,Z as as,_ as rs,$ as At,a0 as ls,a1 as is,a2 as Ae,a3 as ns,a4 as ds,a5 as gt,a6 as Se,a7 as os,a8 as ht,a9 as ut,aa as pe,ab as cs,ac as Qe,ad as xs,ae as ms,af as gs,ag as hs,ah as us,ai as Pt,aj as ys,ak as ps,al as Ot,am as bs,an as fs,ao as yt}from"./lucide-WNs7KEeR.js";import{R as be,L as lt,a as Pe,B as Dt,b as Et,C as Ye,X as Ke,Y as Ze,T as Xe,P as It,c as Tt,d as $t}from"./recharts-B_RYZZ7c.js";import{Q as js,c as Ns,R as vs,T as ce,U as D,V as it,W as Ft,X as ws,Y as ks,Z as Ss,$ as pt}from"./vendor-BDcjRpTE.js";import{S as Cs}from"./radix-ui-BMA52lnz.js";import Lt from"./html2canvas-B0tyYwQk.js";import{E as Mt}from"./jspdf-CDWnDAQw.js";import"./lodash-BobnAABX.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))p(o);new MutationObserver(o=>{for(const b of o)if(b.type==="childList")for(const y of b.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&p(y)}).observe(document,{childList:!0,subtree:!0});function g(o){const b={};return o.integrity&&(b.integrity=o.integrity),o.referrerPolicy&&(b.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?b.credentials="include":o.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function p(o){if(o.ep)return;o.ep=!0;const b=g(o);fetch(o.href,b)}})();const As=[{id:"dashboard",label:"Dashboard",icon:Jt,roles:["admin","manager","staff"]},{id:"products",label:"Products",icon:G,roles:["admin","manager"]},{id:"orders",label:"Orders",icon:te,roles:["admin","manager","staff"]},{id:"sold-products",label:"Sold Products",icon:vt,roles:["admin","manager"]},{id:"pos",label:"Point of Sale",icon:Fe,roles:["admin","manager","staff"]},{id:"analytics",label:"Analytics & Revenue",icon:ie,roles:["admin","manager"]},{id:"customers",label:"Customers",icon:wt,roles:["admin","manager","staff"]},{id:"banners",label:"Banners",icon:Ht,roles:["admin","manager"]},{id:"outlook",label:"Outlook Accounts",icon:he,roles:["admin"]},{id:"hr",label:"HR & Attendance",icon:Oe,roles:["admin","manager"]},{id:"tasks",label:"Tasks",icon:qt,roles:["admin","manager","staff"]},{id:"team",label:"Team Members",icon:Gt,roles:["admin","manager"]},{id:"roles",label:"Roles & Access",icon:Me,roles:["admin"]},{id:"system",label:"System",icon:Vt,roles:["admin"]},{id:"delivery",label:"Delivery Options",icon:ne,roles:["admin","manager"]},{id:"settings",label:"Settings",icon:tt,roles:["admin","manager"]}];function Ps({currentScreen:t,onNavigate:a,collapsed:g,onToggleCollapse:p,onLogout:o,userRole:b="admin",userPermissions:y}){const j=As.filter(u=>y&&Object.keys(y).length>0?!!y[u.id]:b==="admin"?!0:u.roles.includes(b));return e.jsxs("div",{className:`bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 flex flex-col ${g?"w-20":"w-64"}`,children:[e.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-gray-200 dark:border-gray-700",children:[!g&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"GU"})}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Games - Up"})]}),e.jsx("button",{onClick:p,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400",children:e.jsx(kt,{className:`w-5 h-5 transition-transform ${g?"rotate-180":""}`})})]}),e.jsx("nav",{className:"flex-1 py-4 px-2 overflow-y-auto",children:j.map(u=>{const i=u.icon,x=t===u.id;return e.jsxs("button",{onClick:()=>a(u.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-all ${x?"bg-red-600 text-white shadow-lg shadow-red-500/50":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:g?u.label:void 0,children:[e.jsx(i,{className:"w-5 h-5 flex-shrink-0"}),!g&&e.jsx("span",{className:"text-sm font-medium",children:u.label})]},u.id)})}),e.jsx("div",{className:"p-2 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all",title:g?"Logout":void 0,children:[e.jsx(Le,{className:"w-5 h-5 flex-shrink-0"}),!g&&e.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]})}function Os({isDarkMode:t,onToggleTheme:a,user:g,onLogout:p,onViewWebsite:o}){const[b,y]=r.useState(!1),j=r.useRef(null),u=l=>l.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2),i=g?.user_metadata?.name||g?.email||"User",x=g?.user_metadata?.role||"admin",d=u(i);r.useEffect(()=>{const l=v=>{j.current&&!j.current.contains(v.target)&&y(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const m=()=>{y(!1),p&&p()};return e.jsxs("div",{className:"h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6",children:[e.jsx("div",{className:"flex-1 max-w-xl",children:e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search anything...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400",children:[e.jsx(Wt,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),e.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400",children:t?e.jsx(Qt,{className:"w-5 h-5"}):e.jsx(Yt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative",ref:j,children:[e.jsxs("button",{onClick:()=>y(!b),className:"flex items-center gap-3 pl-4 border-l border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-colors py-2 pr-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:d})}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:i}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:x})]}),e.jsx(Kt,{className:`w-4 h-4 text-gray-400 transition-transform ${b?"rotate-180":""}`})]}),b&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:i}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:g?.email}),e.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium mt-1 capitalize",children:[x," Account"]})]}),e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>y(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{children:"My Profile"})]}),e.jsxs("button",{onClick:()=>y(!1),className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(tt,{className:"w-4 h-4"}),e.jsx("span",{children:"Settings"})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),e.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors font-medium",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]})]})]})]})]})}const J=void 0,Ds="/functions/v1/make-server-f6f1fb51",F=Ds;let et=null;function Ce(t){et=t}async function H(t,a={}){const g=et||J,p={"Content-Type":"application/json",Authorization:`Bearer ${g}`,...a.headers};console.log("API Request:",{endpoint:t,hasAccessToken:!!et,tokenPreview:g?`${g.substring(0,20)}...`:"none"});const o=await fetch(`${F}${t}`,{...a,headers:p});if(!o.ok){const b=await o.json().catch(()=>({error:"Request failed"}));throw console.error("API Error:",o.status,b),new Error(b.error||b.message||`Request failed with status ${o.status}`)}return o.json()}const Be={signup:async(t,a,g)=>{const p=await fetch(`${F}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a,name:g})});if(!p.ok){const o=await p.json().catch(()=>({error:"Signup failed"}));throw console.error("Signup Error:",p.status,o),new Error(o.error||o.message||"Signup failed")}return p.json()},login:async(t,a)=>{console.log("Attempting login for:",t);const g=await fetch(`${F}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})});if(!g.ok){const o=await g.json().catch(()=>({error:"Login failed"}));throw console.error("Login Error:",g.status,o),new Error(o.error||o.message||"Invalid login credentials")}const p=await g.json();return console.log("Login successful"),p}},ge={getAll:()=>H("/products"),getPublic:(t,a)=>{const g=new URLSearchParams;return t&&g.append("category",t),a&&g.append("search",a),H(`/public/products?${g.toString()}`)},create:t=>H("/products",{method:"POST",body:JSON.stringify(t)}),update:(t,a)=>H(`/products/${t}`,{method:"PUT",body:JSON.stringify(a)}),delete:t=>H(`/products/${t}`,{method:"DELETE"})},bt={getAll:t=>{const a=new URLSearchParams;return t?.status&&a.append("status",t.status),t?.search&&a.append("search",t.search),t?.email&&a.append("email",t.email),H(`/orders?${a.toString()}`)},update:(t,a)=>H(`/orders/${t}`,{method:"PUT",body:JSON.stringify(a)})},Es={getAll:()=>H("/admin/customers"),update:(t,a)=>H(`/customers/${t}`,{method:"PUT",body:JSON.stringify(a)})},we={getAll:()=>H("/banners"),create:t=>H("/banners",{method:"POST",body:JSON.stringify(t)}),update:(t,a)=>H(`/banners/${t}`,{method:"PUT",body:JSON.stringify(a)}),delete:t=>H(`/banners/${t}`,{method:"DELETE"})},Ee={getAttendance:t=>H(`/hr/attendance?date=${t}`),getEmployees:()=>H("/hr/employees"),markAttendance:t=>H("/hr/attendance",{method:"POST",body:JSON.stringify(t)}),updateAttendance:(t,a)=>H(`/hr/attendance/${t}`,{method:"PUT",body:JSON.stringify(a)})},_e={getAll:()=>H("/roles"),create:t=>H("/roles",{method:"POST",body:JSON.stringify(t)}),update:(t,a)=>H(`/roles/${t}`,{method:"PUT",body:JSON.stringify(a)}),delete:t=>H(`/roles/${t}`,{method:"DELETE"}),createAdminUser:t=>H("/admin/users",{method:"POST",body:JSON.stringify(t)})};function Is({onLogin:t}){const[a,g]=r.useState(!1),[p,o]=r.useState(""),[b,y]=r.useState(""),[j,u]=r.useState(""),[i,x]=r.useState(""),[d,m]=r.useState(!1);r.useEffect(()=>{const s=localStorage.getItem("session");if(s)try{const n=JSON.parse(s);(!n.access_token||!n.user)&&(console.log("Clearing invalid session from localStorage"),localStorage.removeItem("session"),localStorage.removeItem("user"))}catch{localStorage.removeItem("session"),localStorage.removeItem("user")}l()},[]);const l=async()=>{try{console.log("Setting up test accounts...");const s=await fetch(`${F}/setup-accounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`}});if(s.ok){const n=await s.json();return console.log("Test accounts setup response:",n),console.log("Available credentials:",n.credentials),!0}else{const n=await s.text();return console.error("Setup accounts failed with status:",s.status),console.error("Error response:",n),!1}}catch(s){return console.error("Setup accounts error:",s),!1}},v=async s=>{s.preventDefault(),x(""),m(!0);try{if(a){const n=await Be.signup(p,b,j),w=await Be.login(p,b);console.log("Login successful, setting token:",w.session.access_token?"present":"missing"),Ce(w.session.access_token),t(w.user,w.session)}else{const n=await Be.login(p,b);console.log("Login successful, session:",n.session?"present":"missing"),console.log("Access token:",n.session?.access_token?"present":"missing"),Ce(n.session.access_token),t(n.user,n.session)}}catch(n){console.error("Auth error:",n),x(n.message||"Authentication failed")}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-600 via-red-700 to-red-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-white shadow-2xl mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"GU"})})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Games - Up"}),e.jsx("p",{className:"text-red-100",children:"Admin Dashboard"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:a?"Create Account":"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:a?"Sign up to get started":"Sign in to continue to your dashboard"})]}),i&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:i})}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:j,onChange:s=>u(s.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"John Doe",required:a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:p,onChange:s=>o(s.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"admin@psstore.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsx("input",{type:"password",value:b,onChange:s=>y(s.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 px-4 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg font-medium shadow-lg shadow-red-500/50 hover:shadow-xl hover:shadow-red-500/50 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsx("span",{children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-5 h-5"}),a?"Create Account":"Sign In"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>{g(!a),x("")},className:"text-red-600 hover:text-red-700 font-medium text-sm",children:a?"Already have an account? Sign in":"Don't have an account? Sign up"})}),!a&&e.jsxs("div",{className:"mt-6 p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("p",{className:"text-xs text-red-800 font-semibold mb-2",children:"Demo Admin Credentials:"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-red-700 font-mono",children:"Email: admin@gamesup.com"}),e.jsx("p",{className:"text-sm text-red-700 font-mono",children:"Password: admin123"})]}),e.jsx("button",{type:"button",onClick:()=>{o("admin@gamesup.com"),y("admin123")},className:"mt-3 text-xs text-red-600 hover:text-red-700 font-semibold underline",children:"Click to auto-fill credentials"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("button",{onClick:()=>{window.location.hash="#website",window.location.reload()},className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white rounded-lg font-medium text-sm transition-all border border-white/20 hover:border-white/40",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Website"]})})]})})}function Ie({title:t,value:a,change:g,trend:p,icon:o,chartData:b,chartColor:y,chartType:j="line"}){return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:t}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[p==="up"?e.jsx(ie,{className:"w-4 h-4 text-green-500"}):e.jsx(Zt,{className:"w-4 h-4 text-red-500"}),e.jsxs("span",{className:`text-sm font-medium ${p==="up"?"text-green-500":"text-red-500"}`,children:[g,"%"]})]})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-red-500 to-red-700 shadow-lg shadow-red-500/30",children:e.jsx(o,{className:"w-5 h-5 text-white"})})]}),e.jsx(be,{width:"100%",height:60,children:j==="line"?e.jsx(lt,{data:b,children:e.jsx(Pe,{type:"monotone",dataKey:"sales",stroke:y,strokeWidth:2,dot:!1})}):e.jsx(Dt,{data:b,children:e.jsx(Et,{dataKey:"value",fill:y,radius:[4,4,0,0]})})})]})}function Rt(...t){return js(Ns(t))}function E({className:t,...a}){return e.jsx("div",{"data-slot":"card",className:Rt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...a})}const Ts={currency_code:"USD",currency_symbol:"$",tax_rate:8.5},Ut=r.createContext(void 0);function $s({children:t}){const[a,g]=r.useState(Ts),[p,o]=r.useState(!0),b=async()=>{try{const u=await fetch(`${F}/settings`);if(u.ok){const i=await u.json();g({currency_code:i.currency_code||"USD",currency_symbol:i.currency_symbol||"$",tax_rate:parseFloat(i.tax_rate)||0})}}catch(u){console.error("Failed to fetch settings:",u)}finally{o(!1)}};r.useEffect(()=>{b()},[]);const y=async u=>{try{if(g(x=>({...x,...u})),!(await fetch(`${F}/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok)throw new Error("Failed to update settings");await b()}catch(i){throw console.error("Failed to update settings:",i),b(),i}},j=u=>{const i=typeof u=="string"?parseFloat(u):u;return isNaN(i)?`${a.currency_symbol}0.00`:`${a.currency_symbol}${i.toFixed(2)}`};return e.jsx(Ut.Provider,{value:{settings:a,loading:p,formatPrice:j,updateSettings:y,refreshSettings:b},children:t})}function re(){const t=r.useContext(Ut);if(t===void 0)throw new Error("useStoreSettings must be used within a StoreSettingsProvider");return t}const ke=[{month:"Jan",sales:4200,earning:3200},{month:"Feb",sales:3800,earning:2900},{month:"Mar",sales:5100,earning:3800},{month:"Apr",sales:4600,earning:3500},{month:"May",sales:5400,earning:4100},{month:"Jun",sales:6200,earning:4800},{month:"Jul",sales:5900,earning:4500},{month:"Aug",sales:6800,earning:5200},{month:"Sep",sales:7200,earning:5600},{month:"Oct",sales:6900,earning:5300},{month:"Nov",sales:7800,earning:6100},{month:"Dec",sales:8500,earning:6700}],Fs=[{id:1,name:"PlayStation 5 Console",sales:1245,revenue:623755,image:"https://images.unsplash.com/photo-1606813907291-d86efa9b94db?w=200&h=200&fit=crop"},{id:2,name:"DualSense Controller",sales:2840,revenue:199800,image:"https://images.unsplash.com/photo-1592840496694-26d035b52b48?w=200&h=200&fit=crop"},{id:3,name:"PS5 VR Headset",sales:856,revenue:427144,image:"https://images.unsplash.com/photo-1617802690658-1173a812650d?w=200&h=200&fit=crop"},{id:4,name:"Spider-Man 2",sales:1520,revenue:106400,image:"https://images.unsplash.com/photo-1509198397868-475647b2a1e5?w=200&h=200&fit=crop"}],Ls=[{id:"#PS-10234",customer:"Alex Johnson",product:"PS5 Console + 2 Games",status:"completed",amount:599.99,date:"Jan 4, 2026"},{id:"#PS-10235",customer:"Sarah Williams",product:"DualSense Midnight Black",status:"pending",amount:74.99,date:"Jan 4, 2026"},{id:"#PS-10236",customer:"Mike Chen",product:"PS5 Digital Edition",status:"processing",amount:449.99,date:"Jan 3, 2026"},{id:"#PS-10237",customer:"Emma Davis",product:"PlayStation Plus 12-Month",status:"completed",amount:59.99,date:"Jan 3, 2026"},{id:"#PS-10238",customer:"James Wilson",product:"PS VR2 Horizon Bundle",status:"completed",amount:599.99,date:"Jan 2, 2026"}],ze=[{name:"Direct",value:35,color:"#DC2626"},{name:"Social",value:25,color:"#EF4444"},{name:"Organic",value:30,color:"#F87171"},{name:"Referral",value:10,color:"#FCA5A5"}];function ft(){const{formatPrice:t}=re();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Here is the summary of overall data"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Ie,{title:"Total Revenue",value:t(847239),change:12.5,trend:"up",icon:St,chartData:ke,chartColor:"#3B82F6"}),e.jsx(Ie,{title:"Orders",value:"12,458",change:8.2,trend:"up",icon:te,chartData:ke.map(a=>({value:a.sales})),chartColor:"#10B981",chartType:"bar"}),e.jsx(Ie,{title:"Active Customers",value:"8,234",change:3.8,trend:"up",icon:wt,chartData:ke,chartColor:"#8B5CF6"}),e.jsx(Ie,{title:"Conversion Rate",value:"4.8%",change:2.1,trend:"up",icon:Xt,chartData:ke,chartColor:"#EC4899"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(E,{className:"lg:col-span-2 p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Product Sales"}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Sales: 2590"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Earning: ",t(27208)]})]})]})]}),e.jsxs("select",{className:"px-3 py-1.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{children:"All Category"}),e.jsx("option",{children:"Consoles"}),e.jsx("option",{children:"Accessories"}),e.jsx("option",{children:"Games"})]})]}),e.jsx(be,{width:"100%",height:300,children:e.jsxs(lt,{data:ke,children:[e.jsx(Ye,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(Ke,{dataKey:"month",stroke:"#6B7280",fontSize:12}),e.jsx(Ze,{stroke:"#6B7280",fontSize:12}),e.jsx(Xe,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px",color:"#fff"}}),e.jsx(Pe,{type:"monotone",dataKey:"sales",stroke:"#DC2626",strokeWidth:2,dot:!1}),e.jsx(Pe,{type:"monotone",dataKey:"earning",stroke:"#FBBF24",strokeWidth:2,dot:!1})]})})]}),e.jsxs(E,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Sales by Traffic Source"}),e.jsxs("select",{className:"px-3 py-1.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{children:"Monthly"}),e.jsx("option",{children:"Weekly"}),e.jsx("option",{children:"Daily"})]})]}),e.jsx(be,{width:"100%",height:200,children:e.jsx(It,{children:e.jsx(Tt,{data:ze,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:ze.map((a,g)=>e.jsx($t,{fill:a.color},`cell-${g}`))})})}),e.jsx("div",{className:"mt-4 space-y-2",children:ze.map(a=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.name})]}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[a.value,"%"]})]},a.name))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(E,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Top Selling Products"}),e.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:Fs.map(a=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.sales," sales"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t(a.revenue)})})]},a.id))})]}),e.jsxs(E,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Recent Orders"}),e.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:Ls.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a.id}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${a.status==="completed"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":a.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"}`,children:a.status})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:a.customer}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-0.5",children:a.date})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t(a.amount)})})]},a.id))})]})]})]})}const Ms=vs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function R({className:t,variant:a,size:g,asChild:p=!1,...o}){const b=p?Cs:"button";return e.jsx(b,{"data-slot":"button",className:Rt(Ms({variant:a,size:g,className:t})),...o})}function xe({isOpen:t,onClose:a,title:g,children:p}){return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:g}),e.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:e.jsx(Y,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6",children:p})]})}):null}const me=({value:t,onSave:a,type:g="text",prefix:p="",options:o})=>{const[b,y]=r.useState(!1),[j,u]=r.useState(t);r.useEffect(()=>{u(t)},[t]);const i=()=>{y(!1),j!=t&&a(j)},x=d=>{d.key==="Enter"&&i()};return b?o?e.jsx("select",{autoFocus:!0,value:j,onChange:d=>u(d.target.value),onBlur:i,onKeyDown:x,className:"w-full min-w-[80px] px-2 py-1 bg-white dark:bg-gray-800 border border-blue-500 rounded text-gray-900 dark:text-white",onClick:d=>d.stopPropagation(),children:o.map(d=>e.jsx("option",{value:d,children:d},d))}):e.jsx("input",{autoFocus:!0,type:g,value:j,onChange:d=>u(d.target.value),onBlur:i,onKeyDown:x,className:"w-full min-w-[80px] px-2 py-1 bg-white dark:bg-gray-800 border border-blue-500 rounded text-gray-900 dark:text-white",onClick:d=>d.stopPropagation()}):e.jsxs("div",{onClick:d=>{d.stopPropagation(),y(!0)},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-1 rounded border border-transparent hover:border-gray-300 transition-all",children:[p,t]})};function Rs(){const{settings:t,formatPrice:a}=re(),[g,p]=r.useState([]),[o,b]=r.useState([]),[y,j]=r.useState([]),[u,i]=r.useState([]),[x,d]=r.useState(!0),[m,l]=r.useState(null),[v,s]=r.useState(!1),[n,w]=r.useState(null),[I,A]=r.useState(""),[c,h]=r.useState("All"),[C,$]=r.useState({name:"",category:"",subCategory:"",price:"",cost:"",stock:0,image:"",attributes:{},digitalItems:[]}),[k,L]=r.useState({email:"",password:"",code:""});r.useEffect(()=>{S()},[]);const S=async()=>{try{d(!0);const[f,O,N,T]=await Promise.all([fetch(`${F}/system/categories`),fetch(`${F}/system/subcategories`),fetch(`${F}/system/attributes`),ge.getAll()]);if(f.ok){const M=await f.json();b(M),M.length>0&&!C.category&&$(B=>({...B,category:M[0].name}))}O.ok&&j(await O.json()),N.ok&&i(await N.json()),p(T.products),l(null)}catch(f){console.error("Failed to load data",f),l(f.message||"Failed to load data")}finally{d(!1)}};async function _(){try{const f=await ge.getAll();p(f.products)}catch(f){console.error(f)}}const z=async(f,O,N,T=!1)=>{try{const M=g.find(K=>K.id===f);if(!M)return;let B;T?B={...M,attributes:{...M.attributes||{},[O]:N}}:B={...M,[O]:N},p(g.map(K=>K.id===f?B:K)),await ge.update(f,B)}catch(M){console.error("Error updating product:",M),_()}},le=async f=>{const O=f.target.files?.[0];if(!O)return;const N=new FormData;N.append("image",O);try{const T=await fetch(`${F}/upload`,{method:"POST",body:N});if(!T.ok)throw new Error("Upload failed");const M=await T.json();$(B=>({...B,image:M.url}))}catch(T){console.error("Error uploading file:",T),alert("Failed to upload file")}},ee=()=>{!k.email&&!k.password&&!k.code||($(f=>({...f,digitalItems:[...f.digitalItems,k],stock:f.stock+1})),L({email:"",password:"",code:""}))},V=f=>{$(O=>({...O,digitalItems:O.digitalItems.filter((N,T)=>T!==f),stock:Math.max(0,O.stock-1)}))},P=()=>{const O=["Email,Password,Code"].join(`
`),N=new Blob([O],{type:"text/csv"}),T=window.URL.createObjectURL(N),M=document.createElement("a");M.href=T,M.download="digital_products_template.csv",M.click(),window.URL.revokeObjectURL(T)},U=f=>{const O=f.target.files?.[0];if(!O)return;const N=new FileReader;N.onload=T=>{const B=(T.target?.result).split(`
`),K=[];for(let Q=1;Q<B.length;Q++){const ve=B[Q].trim();if(!ve)continue;const[nt,dt,ot]=ve.split(",").map(_t=>_t.trim());(nt||dt||ot)&&K.push({email:nt,password:dt,code:ot})}$(Q=>({...Q,digitalItems:[...Q.digitalItems,...K],stock:Q.stock+K.length}))},N.readAsText(O),f.target.value=""},q=async()=>{try{const f=C.stock>10?"In Stock":"Low Stock",O={...C,status:f,image:C.image||"https://images.unsplash.com/photo-1606813907291-d86efa9b94db?w=100&h=100&fit=crop"};n?await ge.update(n.id,O):await ge.create(O),await _(),s(!1),w(null),$({name:"",category:o[0]?.name||"",price:"",cost:"",stock:0,image:"",digitalItems:[]}),L({email:"",password:"",code:""})}catch(f){console.error("Error saving product:",f),alert("Failed to save product")}},W=async f=>{if(confirm("Are you sure you want to delete this product?"))try{await ge.delete(f),await _()}catch(O){console.error("Error deleting product:",O),alert("Failed to delete product")}},ae=f=>{w(f),$({name:f.name,category:f.category,price:f.price.toString().replace("$",""),cost:f.cost?f.cost.toString().replace("$",""):"",stock:f.stock,image:f.image,purchasedEmail:f.purchasedEmail||"",purchasedPassword:f.purchasedPassword||"",productCode:f.productCode||"",digitalItems:f.digitalItems||[]}),s(!0)},oe=(g||[]).filter(f=>{const O=f.name.toLowerCase().includes(I.toLowerCase()),N=c==="All"||f.category===c;return O&&N});return x?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading products..."})}):m?e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4",children:[e.jsx("div",{className:"text-red-600 dark:text-red-400",children:m}),e.jsx(R,{onClick:_,children:"Try Again"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Products"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your product inventory"})]}),e.jsx(R,{onClick:()=>{w(null),$({name:"",category:o[0]?.name||"",price:"",cost:"",stock:0,image:"",digitalItems:[]}),L({email:"",password:"",code:""}),s(!0)},icon:de,children:"Add Product"})]}),e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(se,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:I,onChange:f=>A(f.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("select",{value:c,onChange:f=>h(f.target.value),className:"px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{children:"All"}),o.map(f=>e.jsx("option",{value:f.name,children:f.name},f.id))]})]})}),e.jsx(E,{className:"p-8",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Product"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Category"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Sub Category"}),u.filter(f=>f.isActive).map(f=>e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:f.name},f.id)),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Price"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Cost"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Stock"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),e.jsx("tbody",{children:oe.map(f=>e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:f.image,alt:f.name,className:"w-12 h-12 rounded-lg object-cover"}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.jsx(me,{value:f.name,onSave:O=>z(f.id,"name",O)})})]})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx(me,{value:f.category,onSave:O=>z(f.id,"category",O),options:o.map(O=>O.name)})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx(me,{value:f.subCategory||"",onSave:O=>z(f.id,"subCategory",O),options:(()=>{const O=o.find(N=>N.slug===f.categorySlug||N.name===f.category);return O?y.filter(N=>N.categoryId===O.id&&N.isActive).map(N=>N.name):[]})()})}),u.filter(O=>O.isActive).map(O=>e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx(me,{value:f.attributes?.[O.name]||"",onSave:N=>z(f.id,O.name,N,!0),options:O.options&&O.options.length>0?O.options:void 0,type:O.type==="number"?"number":"text"})},O.id)),e.jsx("td",{className:"py-4 px-4 text-sm font-medium text-gray-900 dark:text-white",children:e.jsx(me,{value:f.price,onSave:O=>z(f.id,"price",parseFloat(O)),prefix:t.currency_symbol,type:"number"})}),e.jsx("td",{className:"py-4 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:e.jsx(me,{value:f.cost||0,onSave:O=>z(f.id,"cost",parseFloat(O)),prefix:t.currency_symbol,type:"number"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx(me,{value:f.stock,onSave:O=>z(f.id,"stock",parseInt(O)),type:"number"})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="In Stock"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:f.status})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>ae(f),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:e.jsx(st,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>W(f.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(X,{className:"w-4 h-4"})})]})})]},f.id))})]})})}),e.jsx(xe,{isOpen:v,onClose:()=>{s(!1),w(null),$({name:"",category:o[0]?.name||"",price:"",cost:"",stock:0,image:"",digitalItems:[]})},title:n?"Edit Product":"Add New Product",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Product Name"}),e.jsx("input",{type:"text",value:C.name,onChange:f=>$({...C,name:f.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter product name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsx("select",{value:C.category,onChange:f=>$({...C,category:f.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:o.map(f=>e.jsx("option",{value:f.name,children:f.name},f.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sub Category"}),e.jsxs("select",{value:C.subCategory,onChange:f=>$({...C,subCategory:f.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"",children:"Select Sub Category"}),(()=>{const f=o.find(O=>O.name===C.category);return f?y.filter(O=>O.categoryId===f.id&&O.isActive).map(O=>e.jsx("option",{value:O.name,children:O.name},O.id)):[]})()]})]})]}),u.filter(f=>f.isActive).length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.filter(f=>f.isActive).map(f=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.name}),f.options&&f.options.length>0?e.jsxs("select",{value:C.attributes?.[f.name]||"",onChange:O=>$({...C,attributes:{...C.attributes,[f.name]:O.target.value}}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsxs("option",{value:"",children:["Select ",f.name]}),f.options.map(O=>e.jsx("option",{value:O,children:O},O))]}):e.jsx("input",{type:f.type==="number"?"number":"text",value:C.attributes?.[f.name]||"",onChange:O=>$({...C,attributes:{...C.attributes,[f.name]:O.target.value}}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:`Enter ${f.name}`})]},f.id))}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Price (",t.currency_symbol,")"]}),e.jsx("input",{type:"number",step:"0.01",value:C.price,onChange:f=>$({...C,price:parseFloat(f.target.value)||0}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Cost (",t.currency_symbol,")"]}),e.jsx("input",{type:"number",step:"0.01",value:C.cost,onChange:f=>$({...C,cost:parseFloat(f.target.value)||0}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Stock Quantity"}),e.jsx("input",{type:"number",value:C.stock,onChange:f=>$({...C,stock:parseInt(f.target.value)||0}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Image URL (optional)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:C.image,onChange:f=>$({...C,image:f.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://..."}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 flex-1"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"OR UPLOAD"}),e.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 flex-1"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:le,className:"w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100 dark:file:bg-red-900/30 dark:file:text-red-400"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs rounded",children:"Admin Only"}),"Digital Stock Items"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(R,{variant:"secondary",onClick:P,className:"text-xs py-1 h-8 dark:text-white",children:"Download Template"}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("span",{className:"inline-flex items-center justify-center px-3 py-1 text-xs font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors h-8",children:"Import CSV"}),e.jsx("input",{type:"file",accept:".csv",onChange:U,className:"hidden"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mb-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[e.jsx("input",{type:"email",value:k.email,onChange:f=>L({...k,email:f.target.value}),className:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Email"}),e.jsx("input",{type:"text",value:k.password,onChange:f=>L({...k,password:f.target.value}),className:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Password"}),e.jsx("input",{type:"text",value:k.code,onChange:f=>L({...k,code:f.target.value}),className:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Code/Key"})]}),e.jsx(R,{onClick:ee,className:"w-full text-sm py-1",disabled:!k.email&&!k.password&&!k.code,children:"Add Item (+)"})]}),C.digitalItems.length>0&&e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-500 dark:text-gray-400",children:"Password"}),e.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-500 dark:text-gray-400",children:"Code"}),e.jsx("th",{className:"w-10"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:C.digitalItems.map((f,O)=>e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("td",{className:"py-2 px-3 text-gray-900 dark:text-gray-300 truncate max-w-[100px]",children:f.email}),e.jsx("td",{className:"py-2 px-3 text-gray-900 dark:text-gray-300 truncate max-w-[100px]",children:f.password}),e.jsx("td",{className:"py-2 px-3 font-mono text-gray-600 dark:text-gray-400 truncate max-w-[100px]",children:f.code}),e.jsx("td",{className:"py-2 px-3 text-right",children:e.jsx("button",{onClick:()=>V(O),className:"text-red-500 hover:text-red-700",children:e.jsx(X,{className:"w-4 h-4"})})})]},O))})]})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Total Digital Stock: ",C.digitalItems.length," items (Stock quantity updated automatically)"]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(R,{variant:"secondary",onClick:()=>{s(!1),w(null),$({name:"",category:"Consoles",price:"",cost:"",stock:0,image:"",digitalItems:[]})},className:"dark:text-white",children:"Cancel"}),e.jsx(R,{onClick:q,className:"dark:text-white",children:n?"Update Product":"Add Product"})]})]})})]})}const Te=({value:t,onSave:a,type:g="text",prefix:p="",options:o})=>{const[b,y]=r.useState(!1),[j,u]=r.useState(t);r.useEffect(()=>{u(t)},[t]);const i=()=>{y(!1),j!=t&&a(j)},x=d=>{d.key==="Enter"&&i()};return b?o?e.jsx("select",{autoFocus:!0,value:j,onChange:d=>u(d.target.value),onBlur:i,onKeyDown:x,className:"w-full min-w-[80px] px-2 py-1 bg-white dark:bg-gray-800 border border-blue-500 rounded text-gray-900 dark:text-white",onClick:d=>d.stopPropagation(),children:o.map(d=>e.jsx("option",{value:d,children:d},d))}):e.jsx("input",{autoFocus:!0,type:g,value:j,onChange:d=>u(d.target.value),onBlur:i,onKeyDown:x,className:"w-full min-w-[80px] px-2 py-1 bg-white dark:bg-gray-800 border border-blue-500 rounded text-gray-900 dark:text-white",onClick:d=>d.stopPropagation()}):e.jsxs("div",{onClick:d=>{d.stopPropagation(),y(!0)},className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-1 rounded border border-transparent hover:border-gray-300 transition-all",children:[p,t||"-"]})};function Us(){const{settings:t,formatPrice:a}=re(),[g,p]=r.useState([]),[o,b]=r.useState(!0),[y,j]=r.useState(""),[u,i]=r.useState("All"),[x,d]=r.useState(!1),[m,l]=r.useState(!1),[v,s]=r.useState(null);r.useEffect(()=>{n()},[y,u]);const n=async()=>{try{b(!0);const k=await bt.getAll({status:u,search:y});p(k.orders||[])}catch(k){console.error(k)}finally{b(!1)}},w=async(k,L)=>{try{p(g.map(S=>S.id===k?{...S,...L}:S)),await bt.update(k,L)}catch(S){console.error("Failed to update order:",S),n()}},I=async(k,L)=>{w(k,{status:L})},A=k=>{window.open(k,"_blank")},c=async()=>{const k=document.getElementById("invoice-content");if(!(!k||!v))try{const L=await Lt(k,{scale:2,logging:!1,useCORS:!0,onclone:ee=>{ee.documentElement.classList.remove("dark");const V=ee.getElementById("invoice-content");V&&(V.style.backgroundColor="#ffffff",V.style.color="#111827")}}),S=L.toDataURL("image/png"),_=new Mt({orientation:"portrait",unit:"mm",format:"a4"}),z=210,le=L.height*z/L.width;_.addImage(S,"PNG",0,0,z,le),_.save(`invoice-${v.orderNumber||v.id}.pdf`)}catch(L){console.error("Error generating PDF:",L),alert("Failed to generate PDF")}},h=()=>{window.print()},C=k=>{s(k),d(!0)},$=k=>{switch(k){case"completed":return"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400";case"pending":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400";case"pending_approval":return"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400";case"processing":return"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400";case"shipped":return"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400";case"cancelled":return"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400";default:return"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Orders"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage and track all orders"})]}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 shadow-lg shadow-blue-500/30",children:[e.jsx(ue,{className:"w-4 h-4"}),"Export"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:g.length})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:g.filter(k=>k.status==="pending").length})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Processing"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:g.filter(k=>k.status==="processing").length})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:g.filter(k=>k.status==="completed").length})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cancelled"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:g.filter(k=>k.status==="cancelled").length})]})]}),e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(se,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search orders or customers...",value:y,onChange:k=>j(k.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("select",{value:u,onChange:k=>i(k.target.value),className:"px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"Pending"}),e.jsx("option",{children:"Processing"}),e.jsx("option",{children:"Shipped"}),e.jsx("option",{children:"Completed"}),e.jsx("option",{children:"Cancelled"})]})]})}),e.jsx(E,{className:"p-8",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Order ID"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Customer"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Product"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Digital Email"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Digital Password"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Digital Code"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Inventory ID"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Amount"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Action"})]})}),e.jsx("tbody",{children:o?e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Loading orders..."})}):g.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No orders found"})}):g.map(k=>e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4 font-medium text-gray-900 dark:text-white",children:k.id}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:k.customer}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:k.email})]})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsxs("div",{children:[e.jsx("p",{children:k.product}),e.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:[k.items," item(s)"]})]})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx(Te,{value:k.digital_email||"",onSave:L=>w(k.id,{digital_email:String(L)})})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx(Te,{value:k.digital_password||"",onSave:L=>w(k.id,{digital_password:String(L)})})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx(Te,{value:k.digital_code||"",onSave:L=>w(k.id,{digital_code:String(L)})})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx(Te,{value:k.inventory_id||"",onSave:L=>w(k.id,{inventory_id:String(L)})})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:e.jsx("span",{className:"capitalize",children:k.payment_method?.replace("_"," ")||"N/A"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:k.payment_proof?e.jsxs("button",{onClick:()=>A(k.payment_proof),className:"text-blue-600 hover:underline flex items-center gap-1",children:[e.jsx(fe,{className:"w-4 h-4"}),"View"]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:k.date}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("select",{value:k.status,onChange:L=>I(k.id,L.target.value),className:`px-2 py-1 rounded-full text-xs font-medium border-none focus:ring-2 focus:ring-offset-1 cursor-pointer ${$(k.status)}`,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"pending_approval",children:"Pending Approval"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),e.jsx("td",{className:"py-4 px-4 font-medium text-gray-900 dark:text-white",children:a(k.amount)}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>C(k),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View Invoice",children:e.jsx(Ve,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(k),className:"p-2 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Download Invoice",children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>handleViewDetails(k),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"View Details",children:e.jsx(fe,{className:"w-4 h-4"})})]})})]},k.id))})]})})}),e.jsxs(ce,{children:[x&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto text-black",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 print:hidden",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoice Generated"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:c,className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Download PDF",children:e.jsx(ue,{className:"w-5 h-5"})}),e.jsx("button",{onClick:h,className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Print Invoice",children:e.jsx(at,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(Y,{className:"w-6 h-6"})})]})]}),e.jsxs("div",{className:"space-y-6",id:"invoice-content",style:{"--color-gray-50":"#f9fafb","--color-gray-100":"#f3f4f6","--color-gray-200":"#e5e7eb","--color-gray-300":"#d1d5db","--color-gray-400":"#9ca3af","--color-gray-500":"#6b7280","--color-gray-600":"#4b5563","--color-gray-700":"#374151","--color-gray-800":"#1f2937","--color-gray-900":"#111827","--color-red-600":"#dc2626",backgroundColor:"#ffffff",color:"#111827"},children:[e.jsxs("div",{className:"flex justify-between items-start border-b border-gray-200 pb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"GamesUp Store"}),e.jsx("p",{className:"text-gray-500",children:"123 Gaming Street"}),e.jsx("p",{className:"text-gray-500",children:"Tech City, TC 90210"}),e.jsx("p",{className:"text-gray-500",children:"contact@gamesup.com"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["Invoice #",v.orderNumber||v.id]}),e.jsx("p",{className:"text-gray-500",children:v.date})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-8 border-b border-gray-200 pb-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Bill To:"}),e.jsx("p",{className:"text-gray-600",children:v.customer}),e.jsx("p",{className:"text-gray-600",children:v.email})]})}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-2 text-sm font-semibold text-gray-900",children:"Item"}),e.jsx("th",{className:"text-center py-2 text-sm font-semibold text-gray-900",children:"Qty"}),e.jsx("th",{className:"text-right py-2 text-sm font-semibold text-gray-900",children:"Price"}),e.jsx("th",{className:"text-right py-2 text-sm font-semibold text-gray-900",children:"Total"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 text-sm text-gray-600",children:e.jsx("div",{children:v.product})}),e.jsx("td",{className:"py-3 text-center text-sm text-gray-600",children:v.items}),e.jsx("td",{className:"py-3 text-right text-sm text-gray-600",children:a(v.amount)}),e.jsx("td",{className:"py-3 text-right text-sm font-medium text-gray-900",children:a(v.amount)})]})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),e.jsx("span",{className:"font-medium text-gray-900",children:a(v.amount)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 pt-2",children:[e.jsx("span",{className:"text-gray-900",children:"Total:"}),e.jsx("span",{className:"text-red-600",children:a(v.amount)})]})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-500 print:hidden",children:e.jsx("p",{children:"Thank you for your business!"})})]})})}),m&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Order Details"}),e.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-500 dark:text-gray-400",children:e.jsx(Y,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Order ID"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:v.orderNumber||v.id})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Status"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$(v.status)}`,children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Date"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:v.date})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Total Amount"}),e.jsx("p",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:a(v.amount)})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:v.customer})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:v.email})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Product Details"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:v.product}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[v.items," item(s)"]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"p-1 bg-blue-100 dark:bg-blue-900/30 rounded text-blue-600 dark:text-blue-400",children:e.jsx(Ve,{className:"w-4 h-4"})}),"Digital Delivery"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 bg-blue-50 dark:bg-blue-900/10 rounded-xl p-6 border border-blue-100 dark:border-blue-800",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Digital Email"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("input",{type:"text",value:v.digital_email||"",readOnly:!0,className:"flex-1 bg-white dark:bg-gray-800 border-none rounded-lg py-2 px-3 text-gray-900 dark:text-white shadow-sm"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Password"}),e.jsx("input",{type:"text",value:v.digital_password||"",readOnly:!0,className:"w-full bg-white dark:bg-gray-800 border-none rounded-lg py-2 px-3 text-gray-900 dark:text-white shadow-sm font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"License Code"}),e.jsx("input",{type:"text",value:v.digital_code||"",readOnly:!0,className:"w-full bg-white dark:bg-gray-800 border-none rounded-lg py-2 px-3 text-gray-900 dark:text-white shadow-sm font-mono tracking-widest"})]})]}),v.inventory_id&&e.jsx("div",{className:"pt-2 border-t border-blue-200 dark:border-blue-800/50 mt-2",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Linked Inventory ID: ",e.jsx("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:v.inventory_id})]})})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 italic",children:"* These credentials are provided to the customer upon order completion."})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Close"}),e.jsx("button",{onClick:()=>{l(!1),d(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Invoice"})]})]})})})]})]})}const jt=[{month:"Jan",revenue:45200,orders:234,profit:18500},{month:"Feb",revenue:38900,orders:198,profit:15800},{month:"Mar",revenue:52300,orders:276,profit:21200},{month:"Apr",revenue:48700,orders:251,profit:19400},{month:"May",revenue:59100,orders:312,profit:24100},{month:"Jun",revenue:67800,orders:358,profit:28300},{month:"Jul",revenue:63400,orders:334,profit:26200},{month:"Aug",revenue:72500,orders:389,profit:30800},{month:"Sep",revenue:78900,orders:421,profit:33500},{month:"Oct",revenue:71200,orders:374,profit:29800},{month:"Nov",revenue:84600,orders:456,profit:36200},{month:"Dec",revenue:92300,orders:498,profit:39500}],Je=[{name:"Consoles",value:42,color:"#DC2626"},{name:"Games",value:28,color:"#EF4444"},{name:"Accessories",value:20,color:"#F87171"},{name:"Services",value:10,color:"#FCA5A5"}],Bs=[{region:"North America",revenue:342500,growth:15.2,flag:"🇺🇸"},{region:"Europe",revenue:289300,growth:12.8,flag:"🇪🇺"},{region:"Asia Pacific",revenue:215600,growth:24.5,flag:"🇯🇵"},{region:"Latin America",revenue:98400,growth:18.3,flag:"🇧🇷"},{region:"Middle East",revenue:54200,growth:9.7,flag:"🇦🇪"}];function _s(){const{formatPrice:t}=re(),[a,g]=r.useState("12months");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics & Revenue"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Detailed insights and performance metrics"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:a,onChange:p=>g(p.target.value),className:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"7days",children:"Last 7 Days"}),e.jsx("option",{value:"30days",children:"Last 30 Days"}),e.jsx("option",{value:"3months",children:"Last 3 Months"}),e.jsx("option",{value:"12months",children:"Last 12 Months"})]}),e.jsx(R,{icon:ue,children:"Export Report"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Revenue"}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:t(847239)}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(ie,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-green-500",children:"+18.2%"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"vs last year"})]})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-green-500 to-green-700 shadow-lg shadow-green-500/30",children:e.jsx(ie,{className:"w-6 h-6 text-white"})})]})}),e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Net Profit"}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:t(312845)}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(ie,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-green-500",children:"+22.4%"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"vs last year"})]})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-blue-500 to-blue-700 shadow-lg shadow-blue-500/30",children:e.jsx(ie,{className:"w-6 h-6 text-white"})})]})}),e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg. Order Value"}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:t(68.02)}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(ie,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-green-500",children:"+5.8%"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"vs last year"})]})]}),e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-br from-purple-500 to-purple-700 shadow-lg shadow-purple-500/30",children:e.jsx(ie,{className:"w-6 h-6 text-white"})})]})})]}),e.jsxs(E,{className:"p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Revenue Overview"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Monthly revenue and profit trends"})]})}),e.jsx(be,{width:"100%",height:350,children:e.jsxs(lt,{data:jt,children:[e.jsx(Ye,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(Ke,{dataKey:"month",stroke:"#6B7280",fontSize:12}),e.jsx(Ze,{stroke:"#6B7280",fontSize:12}),e.jsx(Xe,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px",color:"#fff"}}),e.jsx(Pe,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:3,dot:{r:4}}),e.jsx(Pe,{type:"monotone",dataKey:"profit",stroke:"#10B981",strokeWidth:3,dot:{r:4}})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-6",children:"Revenue by Category"}),e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx(be,{width:"100%",height:200,children:e.jsx(It,{children:e.jsx(Tt,{data:Je,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",children:Je.map((p,o)=>e.jsx($t,{fill:p.color},`cell-${o}`))})})})}),e.jsx("div",{className:"space-y-3",children:Je.map(p=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:p.color}}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.name})]}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[p.value,"%"]})]},p.name))})]}),e.jsxs(E,{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-6",children:"Top Regions by Revenue"}),e.jsx("div",{className:"space-y-4",children:Bs.map((p,o)=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700 text-2xl",children:p.flag}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:p.region}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t(p.revenue)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 to-red-600 rounded-full",style:{width:`${p.growth*3}%`}})}),e.jsxs("span",{className:"text-xs font-medium text-green-500",children:["+",p.growth,"%"]})]})]})]},p.region))})]})]}),e.jsxs(E,{className:"p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Monthly Orders"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Total orders processed each month"})]})}),e.jsx(be,{width:"100%",height:250,children:e.jsxs(Dt,{data:jt,children:[e.jsx(Ye,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(Ke,{dataKey:"month",stroke:"#6B7280",fontSize:12}),e.jsx(Ze,{stroke:"#6B7280",fontSize:12}),e.jsx(Xe,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px",color:"#fff"}}),e.jsx(Et,{dataKey:"orders",fill:"#DC2626",radius:[8,8,0,0]})]})})]})]})}function zs(){const{settings:t,formatPrice:a}=re(),[g,p]=r.useState([]),[o,b]=r.useState(!0),[y,j]=r.useState(""),[u,i]=r.useState(null);r.useEffect(()=>{x()},[]);const x=async()=>{try{b(!0);const m=await Es.getAll();m&&m.customers&&p(m.customers)}catch(m){console.error("Failed to load customers:",m)}finally{b(!1)}},d=g.filter(m=>m.name.toLowerCase().includes(y.toLowerCase())||m.email.toLowerCase().includes(y.toLowerCase()));return o?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading customers..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Customers"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage customer profiles and relationships"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:g.length})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"VIP Customers"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:g.filter(m=>m.status==="VIP").length})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg. Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:g.length>0?Math.round(g.reduce((m,l)=>m+l.orders,0)/g.length):0})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lifetime Value"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:a(g.reduce((m,l)=>m+l.spent,0))})]})]}),e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search customers...",value:y,onChange:m=>j(m.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:d.length===0?e.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No customers found."}):d.map(m=>e.jsx(E,{className:"cursor-pointer hover:shadow-lg hover:border-red-500 dark:hover:border-red-500 transition-all p-8",onClick:()=>i(m),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:m.avatar,alt:m.name,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:m.name}),m.status==="VIP"&&e.jsxs("span",{className:"px-2 py-0.5 bg-gradient-to-r from-yellow-400 to-yellow-600 text-white text-xs font-medium rounded-full flex items-center gap-1",children:[e.jsx(je,{className:"w-3 h-3"}),"VIP"]})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:m.email}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Orders"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:m.orders})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Spent"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:formatCurrency(m.spent)})]})]})]})]})},m.id))}),u&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-end",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>i(null)}),e.jsxs("div",{className:"relative w-full max-w-lg h-full bg-white dark:bg-gray-800 shadow-2xl overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex items-center justify-between z-10",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Customer Details"}),e.jsx("button",{onClick:()=>i(null),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:e.jsx(Y,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:u.avatar,alt:u.name,className:"w-20 h-20 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:u.name}),u.status==="VIP"&&e.jsxs("span",{className:"px-2 py-0.5 bg-gradient-to-r from-yellow-400 to-yellow-600 text-white text-xs font-medium rounded-full flex items-center gap-1",children:[e.jsx(je,{className:"w-3 h-3"}),"VIP"]})]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Customer since ",u.joinDate]})]})]}),e.jsxs(E,{className:"p-8",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:e.jsx(he,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:u.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-50 dark:bg-green-900/20",children:e.jsx(De,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Phone"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:u.phone})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-50 dark:bg-purple-900/20",children:e.jsx(Ne,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Location"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:u.location})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(E,{className:"p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:u.orders})]}),e.jsxs(E,{className:"p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Spent"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:formatCurrency(u.spent)})]})]}),e.jsxs(E,{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Orders"}),e.jsx("div",{className:"space-y-3",children:ordersLoading?e.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading orders..."}):customerOrders.length===0?e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No orders found."}):customerOrders.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:m.orderNumber}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.product}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:m.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:a(m.amount)}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${m.status==="completed"||m.status==="delivered"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":m.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})]})]},m.id))})]}),e.jsxs(E,{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Notes"}),e.jsx("textarea",{className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:4,placeholder:"Add notes about this customer..."})]})]})]})]})]})}const Js=[{name:"Alex Johnson",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop"},{name:"Sarah Williams",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"},{name:"Mike Chen",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop"},{name:"Emma Davis",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"},{name:"James Wilson",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop"}],Hs=[{id:1,title:"Update product inventory",description:"Review and update stock levels for PS5 consoles",status:"todo",priority:"high",assignees:[{name:"Alex Johnson",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop"}],deadline:"2026-01-08"},{id:2,title:"Process refund requests",description:"Handle pending refund requests from last week",status:"todo",priority:"medium",assignees:[{name:"Sarah Williams",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"}],deadline:"2026-01-06"},{id:3,title:"Create marketing campaign",description:"Design email campaign for new game releases",status:"inprogress",priority:"high",assignees:[{name:"Mike Chen",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop"}],deadline:"2026-01-10"},{id:4,title:"Customer support tickets",description:"Respond to high-priority support tickets",status:"inprogress",priority:"high",assignees:[{name:"Emma Davis",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"}],deadline:"2026-01-05"},{id:5,title:"Monthly sales report",description:"Compile and analyze December sales data",status:"completed",priority:"medium",assignees:[{name:"James Wilson",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop"}],deadline:"2026-01-03"},{id:6,title:"Website maintenance",description:"Update product pages and fix broken links",status:"completed",priority:"low",assignees:[{name:"Alex Johnson",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop"}],deadline:"2026-01-02"}];function qs(){const[t,a]=r.useState(Hs),[g,p]=r.useState(!1),[o,b]=r.useState("kanban"),[y,j]=r.useState({title:"",description:"",priority:"medium",status:"todo",assignees:[],deadline:""}),u=l=>{switch(l){case"high":return"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400";case"medium":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400";case"low":return"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400"}},i=l=>t.filter(v=>v.status===l&&v.assignees.length>0),x=()=>{if(!y.title||!y.deadline||!y.assignees||y.assignees.length===0)return;const l={id:t.length+1,title:y.title||"",description:y.description||"",status:"todo",priority:y.priority||"medium",assignees:y.assignees,deadline:y.deadline};a([...t,l]),p(!1),j({title:"",description:"",priority:"medium",status:"todo",assignees:[],deadline:""})},d=l=>{const v=y.assignees||[],s=v.find(n=>n.name===l.name);j(s?{...y,assignees:v.filter(n=>n.name!==l.name)}:{...y,assignees:[...v,l]})},m=({task:l})=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:l.title}),e.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium flex items-center gap-1 ${u(l.priority)}`,children:[e.jsx(es,{className:"w-3 h-3"}),l.priority]})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:l.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center -space-x-2",children:l.assignees.map((v,s)=>e.jsx("img",{src:v.avatar,alt:v.name,className:"w-6 h-6 rounded-full border-2 border-white dark:border-gray-800",title:v.name},s))}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(ts,{className:"w-3 h-3"}),new Date(l.deadline).toLocaleDateString()]})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Tasks"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage team tasks and assignments"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[e.jsx("button",{onClick:()=>b("kanban"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${o==="kanban"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400"}`,children:"Kanban"}),e.jsx("button",{onClick:()=>b("list"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${o==="list"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400"}`,children:"List"})]}),e.jsx(R,{onClick:()=>p(!0),icon:de,children:"Create Task"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Tasks"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:t.filter(l=>l.assignees&&l.assignees.length>0).length})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"To Do"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:i("todo").length})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:i("inprogress").length})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:i("completed").length})]})]}),o==="kanban"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),"To Do",e.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",i("todo").length,")"]})]})}),e.jsx("div",{className:"space-y-3",children:i("todo").map(l=>e.jsx(m,{task:l},l.id))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),"In Progress",e.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",i("inprogress").length,")"]})]})}),e.jsx("div",{className:"space-y-3",children:i("inprogress").map(l=>e.jsx(m,{task:l},l.id))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"Completed",e.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",i("completed").length,")"]})]})}),e.jsx("div",{className:"space-y-3",children:i("completed").map(l=>e.jsx(m,{task:l},l.id))})]})]}),o==="list"&&e.jsx(E,{className:"p-8",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Task"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Assignees"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Priority"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Deadline"})]})}),e.jsx("tbody",{children:t.filter(l=>l.assignees&&l.assignees.length>0).map(l=>e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:l.title}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:l.description})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"flex items-center -space-x-2",children:l.assignees.map((v,s)=>e.jsx("img",{src:v.avatar,alt:v.name,className:"w-8 h-8 rounded-full border-2 border-white dark:border-gray-800",title:v.name},s))})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u(l.priority)}`,children:l.priority})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.status==="completed"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":l.status==="inprogress"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"}`,children:l.status==="inprogress"?"In Progress":l.status==="todo"?"To Do":"Completed"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:l.deadline})]},l.id))})]})})}),e.jsx(xe,{isOpen:g,onClose:()=>p(!1),title:"Create New Task",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Task Title"}),e.jsx("input",{type:"text",value:y.title,onChange:l=>j({...y,title:l.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter task title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:y.description,onChange:l=>j({...y,description:l.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3,placeholder:"Task description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),e.jsxs("select",{value:y.priority,onChange:l=>j({...y,priority:l.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Deadline"}),e.jsx("input",{type:"date",value:y.deadline,onChange:l=>j({...y,deadline:l.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assign To"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Js.map(l=>{const v=y.assignees?.some(s=>s.name===l.name);return e.jsxs("button",{onClick:()=>d(l),className:`flex items-center gap-2 px-3 py-1.5 rounded-full border transition-colors ${v?"bg-blue-100 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:[e.jsx("img",{src:l.avatar,alt:l.name,className:"w-5 h-5 rounded-full"}),e.jsx("span",{className:"text-sm",children:l.name})]},l.name)})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(R,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),e.jsx(R,{onClick:x,children:"Create Task"})]})]})})]})}function Gs(){const[t,a]=r.useState([]),[g,p]=r.useState(!0),[o,b]=r.useState(!1),[y,j]=r.useState(null),[u,i]=r.useState({name:"",email:"",password:"",role:"staff",job_title:"",phone:"",avatar:"",identity_document:""}),[x,d]=r.useState(null),[m,l]=r.useState(null);r.useEffect(()=>{v()},[]);const v=async()=>{try{const h=await fetch(`${F}/admin/users`,{headers:{Authorization:`Bearer ${J}`}});if(h.ok){const C=await h.json();a(C)}}catch(h){console.error("Error fetching users:",h)}finally{p(!1)}},s=async h=>{const C=new FormData;C.append("image",h);const $=await fetch(`${F}/upload`,{method:"POST",body:C});if(!$.ok)throw new Error("Upload failed");return(await $.json()).url},n=async h=>{h.preventDefault();try{let C=u.avatar,$=u.identity_document;x&&(C=await s(x)),m&&($=await s(m));const k={...u,avatar:C,identity_document:$},L=y?`${F}/admin/users/${y.id}`:`${F}/admin/users`,_=await fetch(L,{method:y?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify(k)});if(_.ok)b(!1),v(),c();else{const z=await _.json();alert(z.error||"Operation failed")}}catch(C){console.error("Error saving user:",C),alert("Failed to save user")}},w=async h=>{if(confirm("Are you sure you want to delete this user?"))try{(await fetch(`${F}/admin/users/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${J}`}})).ok&&v()}catch(C){console.error("Error deleting user:",C)}},I=()=>{j(null),c(),b(!0)},A=h=>{j(h),i({name:h.name,email:h.email,password:"",role:h.role,job_title:h.job_title||"",phone:h.phone||"",avatar:h.avatar||"",identity_document:h.identity_document||""}),d(null),l(null),b(!0)},c=()=>{i({name:"",email:"",password:"",role:"staff",job_title:"",phone:"",avatar:"",identity_document:""}),d(null),l(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Employees"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your team members and roles"})]}),e.jsxs(R,{onClick:I,className:"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-500/30",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"Add Employee"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(h=>e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden",children:h.avatar?e.jsx("img",{src:h.avatar,alt:h.name,className:"w-full h-full object-cover"}):e.jsx(Z,{className:"w-full h-full p-2 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:h.name}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:h.job_title||h.role})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>A(h),className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>w(h.id),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(X,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4"}),h.email]}),h.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:"w-4 h-4"}),h.phone]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsxs("span",{className:"capitalize",children:[h.role," Access"]})]}),h.identity_document&&e.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[e.jsx(Ve,{className:"w-4 h-4"}),e.jsx("a",{href:h.identity_document,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"View ID Document"})]})]})]},h.id))}),e.jsx(xe,{isOpen:o,onClose:()=>b(!1),title:y?"Edit Employee":"Add New Employee",children:e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",required:!0,value:u.name,onChange:h=>i({...u,name:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",required:!0,value:u.email,onChange:h=>i({...u,email:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:y?"New Password (leave blank to keep current)":"Password"}),e.jsx("input",{type:"password",required:!y,value:u.password,onChange:h=>i({...u,password:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:y?"Enter to reset password":""})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role (Access)"}),e.jsxs("select",{value:u.role,onChange:h=>i({...u,role:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"staff",children:"Staff"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Job Title"}),e.jsx("input",{type:"text",value:u.job_title,onChange:h=>i({...u,job_title:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g. Sales Manager"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:u.phone,onChange:h=>i({...u,phone:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Avatar"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:h=>d(h.target.files?.[0]||null),className:"hidden",id:"avatar-upload"}),e.jsxs("label",{htmlFor:"avatar-upload",className:"cursor-pointer flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:[e.jsx(ct,{className:"w-4 h-4 mr-2"}),"Choose File"]}),(x||u.avatar)&&e.jsx("span",{className:"text-xs text-green-500",children:"Selected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"National ID / Passport"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:h=>l(h.target.files?.[0]||null),className:"hidden",id:"id-upload"}),e.jsxs("label",{htmlFor:"id-upload",className:"cursor-pointer flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:[e.jsx(ct,{className:"w-4 h-4 mr-2"}),"Upload ID"]}),(m||u.identity_document)&&e.jsx("span",{className:"text-xs text-green-500",children:"Selected"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(R,{type:"submit",className:"flex-1",children:"Save Employee"}),e.jsx(R,{type:"button",variant:"secondary",onClick:()=>b(!1),className:"flex-1",children:"Cancel"})]})]})})]})}function Vs(){const{settings:t,updateSettings:a}=re(),[g,p]=r.useState("store"),[o,b]=r.useState({currency_code:"USD",currency_symbol:"$",tax_rate:8.5});r.useEffect(()=>{t&&b({currency_code:t.currency_code,currency_symbol:t.currency_symbol,tax_rate:t.tax_rate})},[t]);const y=async()=>{try{await a({currency_code:o.currency_code,currency_symbol:o.currency_symbol,tax_rate:o.tax_rate}),alert("Settings saved successfully!")}catch{alert("Failed to save settings")}},j=i=>{const x=i.target.value;let d="$";switch(x){case"USD":d="$";break;case"EUR":d="€";break;case"GBP":d="£";break;case"JPY":d="¥";break;case"EGP":d="E£";break;default:d="$"}b({...o,currency_code:x,currency_symbol:d})},u=[{id:"store",label:"Store Info"},{id:"payments",label:"Payments"},{id:"shipping",label:"Shipping"},{id:"notifications",label:"Notifications"},{id:"security",label:"Security"},{id:"integrations",label:"Integrations"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your store settings and preferences"})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex gap-4 overflow-x-auto",children:u.map(i=>e.jsx("button",{onClick:()=>p(i.id),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${g===i.id?"border-red-600 text-red-600 dark:text-red-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:i.label},i.id))})}),g==="store"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Store Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Store Name"}),e.jsx("input",{type:"text",defaultValue:"PlayStation Store Admin",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Store Email"}),e.jsx("input",{type:"email",defaultValue:"store@playstation.com",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Store Phone"}),e.jsx("input",{type:"tel",defaultValue:"+1 (555) 123-4567",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Store Address"}),e.jsx("textarea",{defaultValue:"2207 Bridgepointe Parkway, San Mateo, CA 94404",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]})]})]}),e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Business Hours"}),e.jsx("div",{className:"space-y-3",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(i=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 text-sm text-gray-700 dark:text-gray-300",children:i}),e.jsx("input",{type:"time",defaultValue:"09:00",className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"to"}),e.jsx("input",{type:"time",defaultValue:"18:00",className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]},i))})]})]}),g==="payments"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),e.jsx("div",{className:"space-y-3",children:[{name:"Credit/Debit Cards",enabled:!0},{name:"PayPal",enabled:!0},{name:"Apple Pay",enabled:!0},{name:"Google Pay",enabled:!1},{name:"Cryptocurrency",enabled:!1}].map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:i.name}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:i.enabled,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 dark:peer-focus:ring-red-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-red-600"})]})]},i.name))})]}),e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Currency Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Default Currency"}),e.jsxs("select",{value:`${o.currency_code} - ${o.currency_code==="EGP"?"Egyptian Pound":o.currency_code==="USD"?"US Dollar":o.currency_code==="EUR"?"Euro":o.currency_code==="GBP"?"British Pound":"Japanese Yen"}`,onChange:j,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{children:"USD - US Dollar"}),e.jsx("option",{children:"EUR - Euro"}),e.jsx("option",{children:"GBP - British Pound"}),e.jsx("option",{children:"JPY - Japanese Yen"}),e.jsx("option",{children:"EGP - Egyptian Pound"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tax Rate (%)"}),e.jsx("input",{type:"number",value:o.tax_rate,onChange:i=>b({...o,tax_rate:parseFloat(i.target.value)}),step:"0.1",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),g==="shipping"&&e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Shipping Options"}),e.jsx("div",{className:"space-y-4",children:[{name:"Standard Shipping",price:"$5.99",time:"5-7 business days"},{name:"Express Shipping",price:"$12.99",time:"2-3 business days"},{name:"Next Day Delivery",price:"$24.99",time:"1 business day"}].map(i=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:i.name}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:i.price}),e.jsx("span",{children:"•"}),e.jsx("span",{children:i.time})]})]},i.name))})]}),g==="notifications"&&e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-4",children:[{title:"New Orders",description:"Get notified when new orders are placed"},{title:"Low Stock Alerts",description:"Receive alerts when products are running low"},{title:"Customer Messages",description:"Get notified of new customer support messages"},{title:"Sales Reports",description:"Receive daily sales summary reports"},{title:"System Updates",description:"Get notified about system updates and maintenance"}].map(i=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:i.title}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:i.description})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer ml-4",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},i.title))})]}),g==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Change Password"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Add an extra layer of security to your account"}),e.jsx(R,{children:"Enable 2FA"})]}),e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Active Sessions"}),e.jsx("div",{className:"space-y-3",children:e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"MacBook Pro - Chrome"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"San Francisco, CA • Active now"})]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full",children:"Current"})]})})})]})]}),g==="integrations"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{name:"Stripe",description:"Payment processing",connected:!0,logo:"💳"},{name:"Mailchimp",description:"Email marketing",connected:!0,logo:"📧"},{name:"Slack",description:"Team communication",connected:!1,logo:"💬"},{name:"Google Analytics",description:"Website analytics",connected:!0,logo:"📊"},{name:"Shopify",description:"E-commerce platform",connected:!1,logo:"🛍️"},{name:"Zendesk",description:"Customer support",connected:!1,logo:"🎧"}].map(i=>e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-2xl",children:i.logo}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:i.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:i.description}),i.connected?e.jsx(R,{variant:"secondary",children:"Disconnect"}):e.jsx(R,{children:"Connect"})]})]})},i.name))}),e.jsx("div",{className:"flex justify-end",children:e.jsx(R,{icon:Re,onClick:y,children:"Save Changes"})})]})}const $e=["dashboard","products","orders","pos","analytics","customers","banners","outlook","hr","tasks","team","roles","system","delivery","settings"],He={dashboard:"Dashboard",products:"Products",orders:"Orders",pos:"Point of Sale",analytics:"Analytics",customers:"Customers",banners:"Banners",outlook:"Outlook Accounts",hr:"HR & Attendance",tasks:"Tasks",team:"Team Members",roles:"Roles & Access",system:"System",delivery:"Delivery Options",settings:"Settings"};function Ws(){const[t,a]=r.useState([]),[g,p]=r.useState(!0),[o,b]=r.useState(!1),[y,j]=r.useState({name:"",description:"",permissions:$e.reduce((s,n)=>({...s,[n]:!1}),{})}),[u,i]=r.useState(!1),[x,d]=r.useState({name:"",email:"",password:"",role:""});r.useEffect(()=>{m()},[]);const m=async()=>{try{p(!0);const s=await _e.getAll();a(Array.isArray(s)?s:[])}catch(s){console.error("Error loading roles:",s)}finally{p(!1)}},l=async()=>{try{await _e.create(y),await m(),b(!1),j({name:"",description:"",permissions:$e.reduce((s,n)=>({...s,[n]:!1}),{})})}catch(s){console.error("Error creating role:",s),alert("Failed to create role")}},v=async()=>{try{await _e.createAdminUser(x),alert("User created successfully"),i(!1),d({name:"",email:"",password:"",role:""})}catch(s){console.error("Error creating user:",s),alert("Failed to create user. Email might be taken.")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Roles & Access"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage user roles and permissions"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(R,{onClick:()=>i(!0),variant:"outline",className:"flex items-center gap-2",children:[e.jsx(We,{className:"w-4 h-4"}),"Create User Account"]}),e.jsxs(R,{onClick:()=>b(!0),className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(Me,{className:"w-4 h-4"}),"Create New Role"]})]})]}),g?e.jsx("div",{className:"text-center py-12",children:"Loading roles..."}):e.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map(s=>e.jsxs(E,{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.name,s.name==="admin"&&e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-red-100 text-red-600 text-xs font-medium",children:"System"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:s.description})]})}),e.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Permissions (Sidebar Access)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:$e.map(n=>{const w=s.permissions&&s.permissions[n];return e.jsxs("div",{className:`flex items-center gap-2 text-sm p-2 rounded-lg ${w?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"bg-gray-50 dark:bg-gray-800/50 text-gray-400 dark:text-gray-500"}`,children:[w?e.jsx(ss,{className:"w-4 h-4 flex-shrink-0"}):e.jsx(Y,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",title:He[n],children:He[n]})]},n)})})]})]},s.id))}),e.jsx(xe,{isOpen:o,onClose:()=>b(!1),title:"Create New Role",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role Name"}),e.jsx("input",{type:"text",value:y.name,onChange:s=>j({...y,name:s.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-red-500",placeholder:"e.g. Sales Associate"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:y.description,onChange:s=>j({...y,description:s.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-red-500",placeholder:"Brief description of the role"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Permissions"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-60 overflow-y-auto p-2 border border-gray-200 rounded-lg",children:$e.map(s=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-1 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:y.permissions[s],onChange:n=>j({...y,permissions:{...y.permissions,[s]:n.target.checked}}),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:He[s]})]},s))})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(R,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),e.jsx(R,{onClick:l,className:"bg-red-600 text-white hover:bg-red-700",children:"Create Role"})]})]})}),e.jsx(xe,{isOpen:u,onClose:()=>i(!1),title:"Create User Account",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:x.name,onChange:s=>d({...x,name:s.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",value:x.email,onChange:s=>d({...x,email:s.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),e.jsx("input",{type:"password",value:x.password,onChange:s=>d({...x,password:s.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Assign Role"}),e.jsxs("select",{value:x.role,onChange:s=>d({...x,role:s.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"",children:"Select a role"}),t.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(R,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(R,{onClick:v,className:"bg-red-600 text-white hover:bg-red-700",children:"Create Account"})]})]})})]})}const Qs=[{id:1,email:"gaming.store01@outlook.com",password:"SecurePass123!",recoveryEmail:"backup01@gmail.com",status:"Active",createdDate:"Jan 1, 2026",lastLogin:"Jan 4, 2026",productName:"PlayStation 5 Console"},{id:2,email:"gaming.store02@outlook.com",password:"SecurePass456!",recoveryEmail:"backup02@gmail.com",status:"Active",createdDate:"Jan 2, 2026",lastLogin:"Jan 3, 2026",productName:"DualSense Controller"},{id:3,email:"gaming.store03@outlook.com",password:"SecurePass789!",status:"Inactive",createdDate:"Dec 28, 2025",productName:"PS5 VR Headset"}];function Ys(){const[t,a]=r.useState(Qs),[g,p]=r.useState(!1),[o,b]=r.useState(!1),[y,j]=r.useState(null),[u,i]=r.useState(""),[x,d]=r.useState({}),[m,l]=r.useState({email:"",password:"",recoveryEmail:"",status:"Active",productName:""}),v=()=>{const h={...m,createdDate:y?y.createdDate:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};a(y?t.map(C=>C.id===y.id?{...h,id:y.id}:C):[...t,{...h,id:Date.now()}]),b(!1),j(null),l({email:"",password:"",recoveryEmail:"",status:"Active",productName:""})},s=h=>{confirm("Are you sure you want to delete this Outlook account?")&&a(t.filter(C=>C.id!==h))},n=h=>{j(h),l({email:h.email,password:h.password,recoveryEmail:h.recoveryEmail||"",status:h.status,productName:h.productName||""}),b(!0)},w=(h,C)=>{navigator.clipboard.writeText(h),alert(`${C} copied to clipboard!`)},I=h=>{d(C=>({...C,[h]:!C[h]}))},A=t.filter(h=>h.email.toLowerCase().includes(u.toLowerCase())||h.productName&&h.productName.toLowerCase().includes(u.toLowerCase())),c=h=>{switch(h){case"Active":return"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400";case"Inactive":return"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400";case"Suspended":return"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400";default:return"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Outlook Accounts"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage product-linked Outlook accounts"})]}),e.jsx(R,{onClick:()=>{j(null),l({email:"",password:"",recoveryEmail:"",status:"Active",productName:""}),b(!0)},icon:de,children:"Add Account"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Accounts"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:t.length})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:t.filter(h=>h.status==="Active").length})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Inactive"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400 mt-1",children:t.filter(h=>h.status==="Inactive").length})]}),e.jsxs(E,{className:"text-center p-8",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Suspended"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:t.filter(h=>h.status==="Suspended").length})]})]}),e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search accounts or products...",value:u,onChange:h=>i(h.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]})}),e.jsx(E,{className:"p-8",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Password"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Product"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Created"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),e.jsx("tbody",{children:A.map(h=>e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:h.email}),e.jsx("button",{onClick:()=>w(h.email,"Email"),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e.jsx(xt,{className:"w-3 h-3 text-gray-400"})})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-mono text-sm text-gray-900 dark:text-white",children:x[h.id]?h.password:"••••••••••"}),e.jsx("button",{onClick:()=>I(h.id),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:x[h.id]?e.jsx(rt,{className:"w-3 h-3 text-gray-400"}):e.jsx(fe,{className:"w-3 h-3 text-gray-400"})}),e.jsx("button",{onClick:()=>w(h.password,"Password"),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e.jsx(xt,{className:"w-3 h-3 text-gray-400"})})]})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:h.productName||"-"}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(h.status)}`,children:h.status})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:h.createdDate}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>n(h),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(st,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>s(h.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(X,{className:"w-4 h-4"})})]})})]},h.id))})]})})}),e.jsx(xe,{isOpen:o,onClose:()=>{b(!1),j(null),l({email:"",password:"",recoveryEmail:"",status:"Active",productName:""})},title:y?"Edit Outlook Account":"Add New Outlook Account",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:m.email,onChange:h=>l({...m,email:h.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"account@outlook.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),e.jsx("input",{type:"text",value:m.password,onChange:h=>l({...m,password:h.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Recovery Email (Optional)"}),e.jsx("input",{type:"email",value:m.recoveryEmail,onChange:h=>l({...m,recoveryEmail:h.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"recovery@email.com"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs("select",{value:m.status,onChange:h=>l({...m,status:h.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"}),e.jsx("option",{value:"Suspended",children:"Suspended"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Linked Product"}),e.jsx("input",{type:"text",value:m.productName,onChange:h=>l({...m,productName:h.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Product name"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(R,{variant:"secondary",onClick:()=>{b(!1),j(null),l({email:"",password:"",recoveryEmail:"",status:"Active",productName:""})},children:"Cancel"}),e.jsx(R,{onClick:v,children:y?"Update Account":"Add Account"})]})]})})]})}function Ks(){const[t,a]=r.useState([]),[g,p]=r.useState(!0),[o,b]=r.useState(null),[y,j]=r.useState(!1),[u,i]=r.useState(null),[x,d]=r.useState({title:"",imageUrl:"",link:"",position:1,isActive:!0,startDate:"",endDate:""}),[m,l]=r.useState({title:"SPECIAL OFFER",subtitle:"Up to 50% Off on Selected Items"});r.useEffect(()=>{s();const c=localStorage.getItem("specialOfferConfig");c&&l(JSON.parse(c))},[]);const v=()=>{localStorage.setItem("specialOfferConfig",JSON.stringify(m)),window.dispatchEvent(new Event("specialOfferUpdated")),window.dispatchEvent(new Event("storage")),alert("Special Offer updated successfully!")};async function s(){try{p(!0);const c=await we.getAll();a(c.banners||[]),b(null)}catch(c){console.error("Error loading banners:",c),b(c.message||"Failed to load banners")}finally{p(!1)}}const n=async()=>{try{u?await we.update(u.id,x):await we.create(x),await s(),j(!1),i(null),d({title:"",imageUrl:"",link:"",position:1,isActive:!0,startDate:"",endDate:""})}catch(c){console.error("Error saving banner:",c),alert("Failed to save banner")}},w=async c=>{if(confirm("Are you sure you want to delete this banner?"))try{await we.delete(c),await s()}catch(h){console.error("Error deleting banner:",h),alert("Failed to delete banner")}},I=async c=>{try{await we.update(c.id,{...c,isActive:!c.isActive}),await s()}catch(h){console.error("Error toggling banner:",h),alert("Failed to update banner")}},A=c=>{i(c),d({title:c.title,imageUrl:c.imageUrl,link:c.link,position:c.position,isActive:c.isActive,startDate:c.startDate||"",endDate:c.endDate||""}),j(!0)};return g?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading banners..."})}):o?e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4",children:[e.jsx("div",{className:"text-red-600 dark:text-red-400",children:o}),e.jsx(R,{onClick:s,children:"Try Again"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Website Banners"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage promotional banners for your website"})]}),e.jsx(R,{onClick:()=>{i(null),d({title:"",imageUrl:"",link:"",position:1,isActive:!0,startDate:"",endDate:""}),j(!0)},icon:de,children:"Add Banner"})]}),e.jsxs(E,{className:"p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Hero Section"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Badge Text"}),e.jsx("input",{type:"text",value:heroConfig.badge,onChange:c=>setHeroConfig({...heroConfig,badge:c.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"🎮 Your Ultimate Gaming Destination"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Main Title"}),e.jsx("input",{type:"text",value:heroConfig.title,onChange:c=>setHeroConfig({...heroConfig,title:c.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"GAMES UP"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subtitle"}),e.jsx("textarea",{value:heroConfig.subtitle,onChange:c=>setHeroConfig({...heroConfig,subtitle:c.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Description text...",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Button Text"}),e.jsx("input",{type:"text",value:heroConfig.ctaPrimary,onChange:c=>setHeroConfig({...heroConfig,ctaPrimary:c.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Shop Now"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Secondary Button Text"}),e.jsx("input",{type:"text",value:heroConfig.ctaSecondary,onChange:c=>setHeroConfig({...heroConfig,ctaSecondary:c.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Learn More"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(R,{onClick:handleSaveHero,className:"bg-red-600 hover:bg-red-700 text-white",children:"Save Hero Section"})})]}),e.jsxs(E,{className:"p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Special Offer Section"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Section Title"}),e.jsx("input",{type:"text",value:m.title,onChange:c=>l({...m,title:c.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"SPECIAL OFFER"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Offer Text"}),e.jsx("input",{type:"text",value:m.subtitle,onChange:c=>l({...m,subtitle:c.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Up to 50% Off on Selected Items"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(R,{onClick:v,className:"bg-red-600 hover:bg-red-700 text-white",children:"Save Special Offer"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.map(c=>e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700",children:[e.jsx("img",{src:c.imageUrl,alt:c.title,className:"w-full h-48 object-cover",onError:h=>{h.target.src="https://images.unsplash.com/photo-1557821552-17105176677c?w=800&h=400&fit=crop"}}),e.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${c.isActive?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:c.isActive?"Active":"Inactive"}),e.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400",children:["Position ",c.position]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:c.title}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:["Link: ",c.link||"No link"]}),(c.startDate||c.endDate)&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[c.startDate&&`From: ${new Date(c.startDate).toLocaleDateString()}`,c.endDate&&` | To: ${new Date(c.endDate).toLocaleDateString()}`]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>I(c),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[c.isActive?e.jsx(rt,{className:"w-4 h-4"}):e.jsx(fe,{className:"w-4 h-4"}),c.isActive?"Deactivate":"Activate"]}),e.jsx("button",{onClick:()=>A(c),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:e.jsx(st,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>w(c.id),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(X,{className:"w-4 h-4"})})]})]})},c.id)),t.length===0&&e.jsx("div",{className:"col-span-2 text-center py-12 text-gray-500 dark:text-gray-400",children:'No banners yet. Click "Add Banner" to create your first one.'})]}),e.jsx(xe,{isOpen:y,onClose:()=>{j(!1),i(null),d({title:"",imageUrl:"",link:"",position:1,isActive:!0,startDate:"",endDate:""})},title:u?"Edit Banner":"Add New Banner",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Banner Title"}),e.jsx("input",{type:"text",value:x.title,onChange:c=>d({...x,title:c.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Summer Sale 2024"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Image URL"}),e.jsx("input",{type:"text",value:x.imageUrl,onChange:c=>d({...x,imageUrl:c.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link URL (optional)"}),e.jsx("input",{type:"text",value:x.link,onChange:c=>d({...x,link:c.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Position"}),e.jsx("input",{type:"number",min:"1",value:x.position,onChange:c=>d({...x,position:parseInt(c.target.value)||1}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs("select",{value:x.isActive?"active":"inactive",onChange:c=>d({...x,isActive:c.target.value==="active"}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date (optional)"}),e.jsx("input",{type:"date",value:x.startDate,onChange:c=>d({...x,startDate:c.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date (optional)"}),e.jsx("input",{type:"date",value:x.endDate,onChange:c=>d({...x,endDate:c.target.value}),className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(R,{variant:"secondary",onClick:()=>{j(!1),i(null),d({title:"",imageUrl:"",link:"",position:1,isActive:!0,startDate:"",endDate:""})},children:"Cancel"}),e.jsx(R,{onClick:n,children:u?"Update Banner":"Add Banner"})]})]})})]})}function Zs(){const[t,a]=r.useState([]),[g,p]=r.useState([]),[o,b]=r.useState(!0),[y,j]=r.useState(null),[u,i]=r.useState(new Date().toISOString().split("T")[0]),[x,d]=r.useState("all"),[m,l]=r.useState("all");r.useEffect(()=>{v()},[u]);async function v(){try{b(!0);const[A,c]=await Promise.all([Ee.getAttendance(u),Ee.getEmployees()]);a(A.attendance||[]),p(c.employees||[]),j(null)}catch(A){console.error("Error loading HR data:",A),j(A.message||"Failed to load HR data")}finally{b(!1)}}const s=async(A,c,h)=>{try{const C=new Date,$=`${C.getHours().toString().padStart(2,"0")}:${C.getMinutes().toString().padStart(2,"0")}`;await Ee.markAttendance({employeeId:A,date:u,status:c,shift:h,checkIn:$,checkOut:""}),await v()}catch(C){console.error("Error marking attendance:",C),alert("Failed to mark attendance")}},n=async A=>{try{const c=new Date,h=`${c.getHours().toString().padStart(2,"0")}:${c.getMinutes().toString().padStart(2,"0")}`;await Ee.updateAttendance(A,{checkOut:h}),await v()}catch(c){console.error("Error checking out:",c),alert("Failed to check out")}},w=t.filter(A=>{const c=x==="all"||A.shift===x,h=m==="all"||A.status===m;return c&&h}),I={total:g.length,present:t.filter(A=>A.status==="present").length,absent:g.length-t.length,late:t.filter(A=>A.status==="late").length,morningShift:g.filter(A=>A.shift==="morning").length,nightShift:g.filter(A=>A.shift==="night").length};return o?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading HR data..."})}):y?e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4",children:[e.jsx("div",{className:"text-red-600 dark:text-red-400",children:y}),e.jsx(R,{onClick:v,children:"Try Again"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"HR & Attendance"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Track employee attendance and shifts"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"date",value:u,onChange:A=>i(A.target.value),className:"px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500"}),e.jsx(R,{icon:ue,children:"Export Report"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Employees"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:I.total})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Present Today"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:I.present})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Absent Today"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:I.absent})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:e.jsx(mt,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})}),e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Late Arrivals"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:I.late})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:e.jsx(Oe,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Morning Shift"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"7:00 AM - 3:00 PM"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[I.morningShift," employees"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${I.morningShift/I.total*100}%`}})})]})})]}),e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Night Shift"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"3:00 PM - 11:00 PM"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[I.nightShift," employees"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${I.nightShift/I.total*100}%`}})})]})})]})]}),e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filters:"})]}),e.jsxs("select",{value:x,onChange:A=>d(A.target.value),className:"px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:"All Shifts"}),e.jsx("option",{value:"morning",children:"Morning Shift"}),e.jsx("option",{value:"night",children:"Night Shift"})]}),e.jsxs("select",{value:m,onChange:A=>l(A.target.value),className:"px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"present",children:"Present"}),e.jsx("option",{value:"absent",children:"Absent"}),e.jsx("option",{value:"late",children:"Late"})]})]})}),e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Employee"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Role"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Shift"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Check In"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Check Out"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hours"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),e.jsx("tbody",{children:w.map(A=>e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:A.employeeName})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:g.find(c=>c.id===A.employeeId)?.role||"N/A"}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.shift==="morning"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400"}`,children:A.shift==="morning"?"Morning":"Night"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:A.checkIn||"-"}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:A.checkOut||"-"}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600 dark:text-gray-300",children:A.hoursWorked?`${A.hoursWorked}h`:"-"}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.status==="present"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":A.status==="late"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":A.status==="absent"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:A.status})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:!A.checkOut&&e.jsx("button",{onClick:()=>n(A.id),className:"px-3 py-1 text-xs font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:"Check Out"})})})]},A.id))})]}),w.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"No attendance records for selected filters."})]})}),e.jsxs(E,{className:"p-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Mark Attendance"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(A=>{const c=t.some(h=>h.employeeId===A.id);return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:A.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[A.role," • ",A.shift," shift"]})]}),!c&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s(A.id,"present",A.shift),className:"p-2 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Mark Present",children:e.jsx(Ue,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>s(A.id,"absent",A.shift),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Mark Absent",children:e.jsx(mt,{className:"w-4 h-4"})})]}),c&&e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"✓ Marked"})]},A.id)})})]})]})}function Xs(){const{settings:t,formatPrice:a}=re(),[g,p]=r.useState([]),[o,b]=r.useState([]),[y,j]=r.useState([]),[u,i]=r.useState(null),[x,d]=r.useState(""),[m,l]=r.useState(null),[v,s]=r.useState(!1),[n,w]=r.useState({name:"",email:"",phone:"",address:"",city:"",state:"",zipCode:""}),[I,A]=r.useState("grid"),[c,h]=r.useState(!1),[C,$]=r.useState(!1),[k,L]=r.useState(null);r.useEffect(()=>{S(),_()},[u]);const S=async()=>{try{const N=await fetch(`${F}/system/categories`,{headers:{Authorization:`Bearer ${J}`}});if(N.ok){const T=await N.json();b(T.filter(M=>M.isActive))}}catch(N){console.error("Error loading categories:",N)}},_=async()=>{try{const N=u?`${F}/public/products?category=${u}`:`${F}/public/products`,T=await fetch(N,{headers:{Authorization:`Bearer ${J}`}});if(T.ok){const M=await T.json();p(M.products||[])}}catch(N){console.error("Error loading products:",N)}},z=g.filter(N=>N.name.toLowerCase().includes(x.toLowerCase())||N.description?.toLowerCase().includes(x.toLowerCase())),le=(N,T=1)=>{const M=y.find(B=>B.id===N.id);j(M?y.map(B=>B.id===N.id?{...B,quantity:B.quantity+T}:B):[...y,{...N,quantity:T}]),l(null)},ee=(N,T)=>{T<=0?V(N):j(y.map(M=>M.id===N?{...M,quantity:T}:M))},V=N=>{j(y.filter(T=>T.id!==N))},P=()=>{j([])},U=()=>{if(y.length===0){alert("Cart is empty!");return}s(!0)},q=async()=>{const N=document.getElementById("invoice-content");if(N)try{const T=await Lt(N,{scale:2,logging:!1,useCORS:!0}),M=T.toDataURL("image/png"),B=new Mt({orientation:"portrait",unit:"mm",format:"a4"}),K=210,Q=T.height*K/T.width;B.addImage(M,"PNG",0,0,K,Q),B.save(`invoice-${k?.invoiceNumber||Date.now()}.pdf`)}catch(T){console.error("Error generating PDF:",T),alert("Failed to generate PDF")}},W=()=>{window.print()},ae=async()=>{if(!n.name||!n.email||!n.phone){alert("Please fill in all required customer information");return}h(!0);try{const N=y.reduce((Q,ve)=>Q+ve.price*ve.quantity,0),T=N*(t.tax_rate/100),M=N+T,B={customerEmail:n.email,customerName:n.name,items:y,total:M,deliveryMethod:"In-Store Pickup",shippingAddress:n};if((await fetch(`${F}/customer-orders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify(B)})).ok){const Q={invoiceNumber:`INV-${Date.now()}`,date:new Date().toISOString(),customer:n,items:[...y],subtotal:N,tax:T,total:M};L(Q),$(!0),j([]),w({name:"",email:"",phone:"",address:"",city:"",state:"",zipCode:""}),s(!1)}}catch(N){console.error("Error completing checkout:",N),alert("Failed to complete checkout")}finally{h(!1)}},oe=y.reduce((N,T)=>N+T.price*T.quantity,0),f=oe*(t.tax_rate/100),O=oe+f;return e.jsxs("div",{className:"h-screen flex bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Point of Sale"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>A("grid"),className:`p-2 rounded-lg ${I==="grid"?"bg-red-100 text-red-600":"text-gray-600 hover:bg-gray-100"}`,children:e.jsx(as,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>A("list"),className:`p-2 rounded-lg ${I==="list"?"bg-red-100 text-red-600":"text-gray-600 hover:bg-gray-100"}`,children:e.jsx(rs,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:x,onChange:N=>d(N.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex gap-2 overflow-x-auto",children:[e.jsx("button",{onClick:()=>i(null),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap ${u?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":"bg-red-600 text-white"}`,children:"All Products"}),o.map(N=>e.jsxs("button",{onClick:()=>i(N.slug),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap flex items-center gap-2 ${u===N.slug?"bg-red-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[e.jsx("span",{children:N.icon}),N.name]},N.id))]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[I==="grid"?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:z.map(N=>e.jsxs(D.div,{whileHover:{y:-4},onClick:()=>l(N),className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden cursor-pointer border-2 border-transparent hover:border-red-500 transition-all",children:[e.jsxs("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 relative overflow-hidden",children:[N.image?e.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(G,{className:"w-12 h-12 text-gray-400"})}),N.stock<=0&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"Out of Stock"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm line-clamp-1",children:N.name}),e.jsx("p",{className:"text-lg font-bold text-red-600 mt-1",children:a(N.price)}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Stock: ",N.stock]})]})]},N.id))}):e.jsx("div",{className:"space-y-2",children:z.map(N=>e.jsxs(D.div,{whileHover:{x:4},onClick:()=>l(N),className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 cursor-pointer border-2 border-transparent hover:border-red-500 transition-all flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden flex-shrink-0",children:N.image?e.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(G,{className:"w-6 h-6 text-gray-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:N.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-1",children:N.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xl font-bold text-red-600",children:a(N.price)}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Stock: ",N.stock]})]})]},N.id))}),z.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(G,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No products found"})]})]})]}),e.jsxs("div",{className:"w-96 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(te,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Current Order"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y.length," items"]})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:y.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(te,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cart is empty"})]}):y.map(N=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-3",children:[e.jsxs("div",{className:"flex gap-3 mb-2",children:[e.jsx("img",{src:N.image,alt:N.name,className:"w-12 h-12 rounded object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-white truncate",children:N.name}),e.jsx("p",{className:"text-sm font-bold text-red-600",children:a(N.price)})]}),e.jsx("button",{onClick:()=>V(N.id),className:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 p-1 rounded",children:e.jsx(X,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>ee(N.id,N.quantity-1),className:"w-8 h-8 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded flex items-center justify-center",children:e.jsx(At,{className:"w-4 h-4"})}),e.jsx("span",{className:"w-12 text-center font-semibold text-gray-900 dark:text-white",children:N.quantity}),e.jsx("button",{onClick:()=>ee(N.id,N.quantity+1),className:"w-8 h-8 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded flex items-center justify-center",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx("span",{className:"ml-auto font-bold text-gray-900 dark:text-white",children:a(N.price*N.quantity)})]})]},N.id))}),y.length>0&&e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{className:"font-semibold",children:a(oe)})]}),e.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:["Tax (",t.tax_rate,"%)"]}),e.jsx("span",{className:"font-semibold",children:a(f)})]}),e.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900 dark:text-white pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"text-red-600",children:a(O)})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:P,className:"flex-1 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold hover:bg-gray-50 dark:hover:bg-gray-700",children:"Clear"}),e.jsx("button",{onClick:U,className:"flex-1 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:"Checkout"})]})]})]}),e.jsx(ce,{children:m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Product Details"}),e.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e.jsx(Y,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 rounded-xl overflow-hidden",children:m.image?e.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(G,{className:"w-24 h-24 text-gray-400"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:m.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:m.description}),e.jsx("p",{className:"text-3xl font-bold text-red-600 mb-4",children:a(m.price)}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Category"}),e.jsx("span",{className:"font-semibold",children:m.categorySlug||"N/A"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Stock"}),e.jsxs("span",{className:`font-semibold ${m.stock>0?"text-green-600":"text-red-600"}`,children:[m.stock," units"]})]}),m.attributes&&Object.entries(m.attributes).map(([N,T])=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:N}),e.jsx("span",{className:"font-semibold",children:String(T)})]},N))]}),e.jsxs("button",{onClick:()=>le(m),disabled:m.stock<=0,className:"w-full py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Add to Cart"]})]})]})]})})})}),e.jsx(ce,{children:C&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 print:hidden",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice Generated"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:q,className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Download PDF",children:e.jsx(ue,{className:"w-5 h-5"})}),e.jsx("button",{onClick:W,className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Print Invoice",children:e.jsx(at,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>$(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e.jsx(Y,{className:"w-6 h-6"})})]})]}),e.jsxs("div",{className:"space-y-6",id:"invoice-content",children:[e.jsxs("div",{className:"flex justify-between items-start border-b border-gray-200 dark:border-gray-700 pb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"GamesUp Store"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"123 Gaming Street"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Tech City, TC 90210"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"contact@gamesup.com"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["Invoice #",k.invoiceNumber]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:new Date(k.date).toLocaleDateString()})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-8 border-b border-gray-200 dark:border-gray-700 pb-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Bill To:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:k.customer.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:k.customer.email}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:k.customer.phone})]})}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-2 text-sm font-semibold text-gray-900 dark:text-white",children:"Item"}),e.jsx("th",{className:"text-center py-2 text-sm font-semibold text-gray-900 dark:text-white",children:"Qty"}),e.jsx("th",{className:"text-right py-2 text-sm font-semibold text-gray-900 dark:text-white",children:"Price"}),e.jsx("th",{className:"text-right py-2 text-sm font-semibold text-gray-900 dark:text-white",children:"Total"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:k.items.map((N,T)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"py-3 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx("div",{children:N.name}),N.attributes&&Object.entries(N.attributes).length>0&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Object.entries(N.attributes).map(([M,B])=>e.jsxs("span",{className:"mr-2",children:[M,": ",String(B)]},M))})]}),e.jsx("td",{className:"py-3 text-center text-sm text-gray-600 dark:text-gray-300",children:N.quantity}),e.jsx("td",{className:"py-3 text-right text-sm text-gray-600 dark:text-gray-300",children:a(N.price)}),e.jsx("td",{className:"py-3 text-right text-sm font-medium text-gray-900 dark:text-white",children:a(N.price*N.quantity)})]},T))})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a(k.subtotal)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",t.tax_rate,"%):"]}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:a(k.tax)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 dark:border-gray-700 pt-2",children:[e.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total:"}),e.jsx("span",{className:"text-red-600",children:a(k.total)})]})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 text-center text-sm text-gray-500 dark:text-gray-400 print:hidden",children:e.jsx("p",{children:"Thank you for your business!"})})]})})})}),e.jsx("div",{className:"hidden print:block print:fixed print:inset-0 print:bg-white print:z-[100] p-8",children:k&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start border-b border-gray-200 pb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"GamesUp Store"}),e.jsx("p",{className:"text-gray-500",children:"123 Gaming Street"}),e.jsx("p",{className:"text-gray-500",children:"Tech City, TC 90210"}),e.jsx("p",{className:"text-gray-500",children:"contact@gamesup.com"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["Invoice #",k.invoiceNumber]}),e.jsx("p",{className:"text-gray-500",children:new Date(k.date).toLocaleDateString()})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-8 border-b border-gray-200 pb-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Bill To:"}),e.jsx("p",{className:"text-gray-600",children:k.customer.name}),e.jsx("p",{className:"text-gray-600",children:k.customer.email}),e.jsx("p",{className:"text-gray-600",children:k.customer.phone})]})}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-2 text-sm font-semibold text-gray-900",children:"Item"}),e.jsx("th",{className:"text-center py-2 text-sm font-semibold text-gray-900",children:"Qty"}),e.jsx("th",{className:"text-right py-2 text-sm font-semibold text-gray-900",children:"Price"}),e.jsx("th",{className:"text-right py-2 text-sm font-semibold text-gray-900",children:"Total"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:k.items.map((N,T)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 text-sm text-gray-600",children:N.name}),e.jsx("td",{className:"py-3 text-center text-sm text-gray-600",children:N.quantity}),e.jsx("td",{className:"py-3 text-right text-sm text-gray-600",children:a(N.price)}),e.jsx("td",{className:"py-3 text-right text-sm font-medium text-gray-900",children:a(N.price*N.quantity)})]},T))})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),e.jsx("span",{className:"font-medium text-gray-900",children:a(k.subtotal)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Tax (",t.tax_rate,"%):"]}),e.jsx("span",{className:"font-medium text-gray-900",children:a(k.tax)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 pt-2",children:[e.jsx("span",{className:"text-gray-900",children:"Total:"}),e.jsx("span",{className:"text-gray-900",children:a(k.total)})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:e.jsx("p",{children:"Thank you for your business!"})})]})}),e.jsx(ce,{children:v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Customer Information"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Enter customer details to complete the order"})]}),e.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-500 dark:text-gray-400",children:e.jsx(Y,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Z,{className:"w-4 h-4 inline mr-2"}),"Full Name *"]}),e.jsx("input",{type:"text",value:n.name,onChange:N=>w({...n,name:N.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"John Doe",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(he,{className:"w-4 h-4 inline mr-2"}),"Email *"]}),e.jsx("input",{type:"email",value:n.email,onChange:N=>w({...n,email:N.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"john@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(De,{className:"w-4 h-4 inline mr-2"}),"Phone Number *"]}),e.jsx("input",{type:"tel",value:n.phone,onChange:N=>w({...n,phone:N.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"+1 (555) 000-0000",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Ne,{className:"w-4 h-4 inline mr-2"}),"Address"]}),e.jsx("input",{type:"text",value:n.address,onChange:N=>w({...n,address:N.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"123 Main St"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-xl",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Order Summary"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Items"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:y.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:["$",oe.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax"}),e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:["$",f.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total"}),e.jsxs("span",{className:"text-red-600",children:["$",O.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[e.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{onClick:ae,disabled:c,className:"flex-1 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"w-5 h-5"}),"Complete Order"]})})]})]})})})})]})}function ea({message:t,type:a="success",show:g}){if(!g)return null;const p={success:"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200",error:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200",info:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200"},b={success:Ae,error:is,info:ls}[a];return e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg ${p[a]} animate-slide-in`,children:[e.jsx(b,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:t})]})}function ta(){const[t,a]=r.useState("categories"),[g,p]=r.useState([]),[o,b]=r.useState([]),[y,j]=r.useState([]),[u,i]=r.useState(!1),[x,d]=r.useState(null),[m,l]=r.useState(!1),[v,s]=r.useState(null);r.useEffect(()=>{n()},[t]);const n=async()=>{i(!0);try{const _=await fetch(`${F}/system/${t==="categories"?"categories":t==="subcategories"?"subcategories":"attributes"}`,{headers:{Authorization:`Bearer ${J}`}});if(!_.ok)throw new Error(`Failed to load ${t}`);const z=await _.json();t==="categories"?p(z):t==="subcategories"?b(z):j(z)}catch(S){console.error("Error loading data:",S),s({message:`Failed to load ${t}`,type:"error"})}finally{i(!1)}},w=async()=>{try{const S=t==="categories"?"categories":t==="subcategories"?"subcategories":"attributes",_=x?.id?"PUT":"POST",z=x?.id?`${F}/system/${S}/${x.id}`:`${F}/system/${S}`;if(!(await fetch(z,{method:_,headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify(x)})).ok)throw new Error("Failed to save");s({message:`${t} saved successfully!`,type:"success"}),l(!1),d(null),n()}catch(S){console.error("Error saving:",S),s({message:"Failed to save",type:"error"})}},I=async S=>{if(confirm("Are you sure you want to delete this item?"))try{if(!(await fetch(`${F}/system/${t==="categories"?"categories":t==="subcategories"?"subcategories":"attributes"}/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${J}`}})).ok)throw new Error("Failed to delete");s({message:"Deleted successfully!",type:"success"}),n()}catch(_){console.error("Error deleting:",_),s({message:"Failed to delete",type:"error"})}},A=async()=>{if(confirm("This will create demo categories, subcategories, and attributes. Continue?")){i(!0);try{const S=[{name:"Consoles",slug:"consoles",icon:"🎮",description:"Gaming consoles and hardware",displayOrder:1,isActive:!0},{name:"Games",slug:"games",icon:"🎯",description:"Video games for all platforms",displayOrder:2,isActive:!0},{name:"Accessories",slug:"accessories",icon:"🎧",description:"Gaming accessories and peripherals",displayOrder:3,isActive:!0},{name:"Digital",slug:"digital",icon:"💳",description:"Digital codes and subscriptions",displayOrder:4,isActive:!0}];for(const _ of S)await fetch(`${F}/system/categories`,{method:"POST",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify(_)});s({message:"Demo data initialized successfully!",type:"success"}),n()}catch(S){console.error("Error initializing demo data:",S),s({message:"Failed to initialize demo data",type:"error"})}finally{i(!1)}}},c=()=>{d(t==="categories"?{name:"",description:"",slug:"",icon:"",displayOrder:0,isActive:!0}:t==="subcategories"?{categoryId:g[0]?.id||"",name:"",description:"",slug:"",displayOrder:0,isActive:!0}:{name:"",type:"text",options:[],isRequired:!1,displayOrder:0,isActive:!0}),l(!0)},h=S=>{d({...S}),l(!0)},C=()=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Slug"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Icon"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Order"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Status"}),e.jsx("th",{className:"text-right p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),e.jsx("tbody",{children:g.map(S=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[e.jsx("td",{className:"p-4 text-sm text-gray-900 dark:text-white font-medium",children:S.name}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:S.slug}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:S.icon}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:S.displayOrder}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:S.isActive?"Active":"Inactive"})}),e.jsxs("td",{className:"p-4 text-right",children:[e.jsx("button",{onClick:()=>h(S),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg mr-2",children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>I(S.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:e.jsx(X,{className:"w-4 h-4"})})]})]},S.id))})]})}),$=()=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Category"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Slug"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Order"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Status"}),e.jsx("th",{className:"text-right p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),e.jsx("tbody",{children:o.map(S=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[e.jsx("td",{className:"p-4 text-sm text-gray-900 dark:text-white font-medium",children:S.name}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:g.find(_=>_.id===S.categoryId)?.name||"Unknown"}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:S.slug}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:S.displayOrder}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:S.isActive?"Active":"Inactive"})}),e.jsxs("td",{className:"p-4 text-right",children:[e.jsx("button",{onClick:()=>h(S),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg mr-2",children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>I(S.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:e.jsx(X,{className:"w-4 h-4"})})]})]},S.id))})]})}),k=()=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Name"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Type"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Required"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Order"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Status"}),e.jsx("th",{className:"text-right p-4 text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),e.jsx("tbody",{children:y.map(S=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[e.jsx("td",{className:"p-4 text-sm text-gray-900 dark:text-white font-medium",children:S.name}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400 capitalize",children:S.type}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isRequired?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:S.isRequired?"Required":"Optional"})}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:S.displayOrder}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:S.isActive?"Active":"Inactive"})}),e.jsxs("td",{className:"p-4 text-right",children:[e.jsx("button",{onClick:()=>h(S),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg mr-2",children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>I(S.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:e.jsx(X,{className:"w-4 h-4"})})]})]},S.id))})]})}),L=()=>x?e.jsx(xe,{isOpen:m,onClose:()=>l(!1),title:`${x.id?"Edit":"Add"} ${t}`,children:e.jsxs("div",{className:"space-y-4",children:[t==="categories"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:x.name,onChange:S=>d({...x,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:x.description,onChange:S=>d({...x,description:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Slug"}),e.jsx("input",{type:"text",value:x.slug,onChange:S=>d({...x,slug:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Icon (emoji or text)"}),e.jsx("input",{type:"text",value:x.icon,onChange:S=>d({...x,icon:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Order"}),e.jsx("input",{type:"number",value:x.displayOrder,onChange:S=>d({...x,displayOrder:parseInt(S.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.isActive,onChange:S=>d({...x,isActive:S.target.checked}),className:"mr-2"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]})]}),t==="subcategories"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Parent Category"}),e.jsx("select",{value:x.categoryId,onChange:S=>d({...x,categoryId:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:g.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:x.name,onChange:S=>d({...x,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:x.description,onChange:S=>d({...x,description:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Slug"}),e.jsx("input",{type:"text",value:x.slug,onChange:S=>d({...x,slug:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Order"}),e.jsx("input",{type:"number",value:x.displayOrder,onChange:S=>d({...x,displayOrder:parseInt(S.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.isActive,onChange:S=>d({...x,isActive:S.target.checked}),className:"mr-2"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]})]}),t==="attributes"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:x.name,onChange:S=>d({...x,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),e.jsxs("select",{value:x.type,onChange:S=>d({...x,type:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"number",children:"Number"}),e.jsx("option",{value:"select",children:"Select"}),e.jsx("option",{value:"boolean",children:"Boolean"})]})]}),x.type==="select"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Options (comma-separated)"}),e.jsx("input",{type:"text",value:x.options?.join(", ")||"",onChange:S=>d({...x,options:S.target.value.split(",").map(_=>_.trim())}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Order"}),e.jsx("input",{type:"number",value:x.displayOrder,onChange:S=>d({...x,displayOrder:parseInt(S.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.isRequired,onChange:S=>d({...x,isRequired:S.target.checked}),className:"mr-2"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Required"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x.isActive,onChange:S=>d({...x,isActive:S.target.checked}),className:"mr-2"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(R,{onClick:w,className:"flex-1",children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Save"]}),e.jsxs(R,{onClick:()=>l(!1),variant:"secondary",className:"flex-1",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})}):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Configuration"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage categories, sub-categories, and product attributes"})]})}),e.jsxs("div",{className:"flex gap-2 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>a("categories"),className:`px-4 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors ${t==="categories"?"border-red-600 text-red-600 dark:text-red-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(ns,{className:"w-4 h-4"}),"Categories"]}),e.jsxs("button",{onClick:()=>a("subcategories"),className:`px-4 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors ${t==="subcategories"?"border-red-600 text-red-600 dark:text-red-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(ds,{className:"w-4 h-4"}),"Sub-Categories"]}),e.jsxs("button",{onClick:()=>a("attributes"),className:`px-4 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors ${t==="attributes"?"border-red-600 text-red-600 dark:text-red-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(tt,{className:"w-4 h-4"}),"Attributes"]})]}),e.jsx(E,{className:"p-8",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white capitalize",children:t}),e.jsxs("div",{className:"flex gap-2",children:[t==="categories"&&g.length===0&&e.jsx(R,{onClick:A,variant:"secondary",children:"Initialize Demo Data"}),e.jsxs(R,{onClick:c,children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"Add ",t==="categories"?"Category":t==="subcategories"?"Sub-Category":"Attribute"]})]})]}),u?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[t==="categories"&&C(),t==="subcategories"&&$(),t==="attributes"&&k()]})]})}),L(),v&&e.jsx(ea,{message:v.message,type:v.type,onClose:()=>s(null)})]})}function sa(){const[t,a]=r.useState([]),[g,p]=r.useState(!1),[o,b]=r.useState(null),[y,j]=r.useState(!1),[u,i]=r.useState({name:"",description:"",price:0,estimatedDays:"",active:!0});r.useEffect(()=>{x()},[]);const x=async()=>{try{const s=await fetch(`${F}/delivery-options/all`,{headers:{Authorization:`Bearer ${J}`}});if(s.ok){const n=await s.json();a(n.deliveryOptions||[])}}catch(s){console.error("Error loading delivery options:",s)}},d=s=>{s?(b(s),i({name:s.name,description:s.description,price:s.price,estimatedDays:s.estimatedDays,active:s.active})):(b(null),i({name:"",description:"",price:0,estimatedDays:"",active:!0})),p(!0)},m=()=>{p(!1),b(null),i({name:"",description:"",price:0,estimatedDays:"",active:!0})},l=async()=>{j(!0);try{const s=o?`${F}/delivery-options/${o.id}`:`${F}/delivery-options`;(await fetch(s,{method:o?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify(u)})).ok&&(await x(),m())}catch(s){console.error("Error saving delivery option:",s)}finally{j(!1)}},v=async s=>{if(confirm("Are you sure you want to delete this delivery option?"))try{(await fetch(`${F}/delivery-options/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${J}`}})).ok&&await x()}catch(n){console.error("Error deleting delivery option:",n)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Delivery Options"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage shipping and delivery methods for your store"})]}),e.jsxs("button",{onClick:()=>d(),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:[e.jsx(de,{className:"w-5 h-5"}),"Add Delivery Option"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(s=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 border-2 border-gray-200 dark:border-gray-700 hover:border-red-500 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center",children:e.jsx(ne,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:s.name}),e.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full mt-1 ${s.active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:s.active?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>d(s),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(ye,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),e.jsx("button",{onClick:()=>v(s.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(X,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(Oe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s.estimatedDays})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(St,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"text-xl font-bold text-red-600",children:s.price===0?"FREE":s.price.toFixed(2)})]})]})]},s.id)),t.length===0&&e.jsxs("div",{className:"col-span-full bg-white dark:bg-gray-800 rounded-xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mx-auto mb-4",children:e.jsx(ne,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No delivery options yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Add your first delivery option to start offering shipping to customers"}),e.jsx("button",{onClick:()=>d(),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:"Add Delivery Option"})]})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o?"Edit Delivery Option":"Add Delivery Option"}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(Y,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Name"}),e.jsx("input",{type:"text",value:u.name,onChange:s=>i({...u,name:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white",placeholder:"e.g., Standard Shipping"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("input",{type:"text",value:u.description,onChange:s=>i({...u,description:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white",placeholder:"e.g., Delivered in 5-7 business days"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price ($)"}),e.jsx("input",{type:"number",value:u.price,onChange:s=>i({...u,price:parseFloat(s.target.value)||0}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white",placeholder:"0.00",step:"0.01",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estimated Time"}),e.jsx("input",{type:"text",value:u.estimatedDays,onChange:s=>i({...u,estimatedDays:s.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-gray-900 dark:text-white",placeholder:"5-7 business days"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"active",checked:u.active,onChange:s=>i({...u,active:s.target.checked}),className:"w-5 h-5 text-red-600 rounded focus:ring-2 focus:ring-red-500"}),e.jsx("label",{htmlFor:"active",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active (available for customers to select)"})]})]}),e.jsxs("div",{className:"flex gap-4 p-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:m,className:"flex-1 px-6 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:l,disabled:y||!u.name||!u.description,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5"}),y?"Saving...":"Save Delivery Option"]})]})]})})]})}function aa(){const[t,a]=r.useState("dashboard"),[g,p]=r.useState(!1),[o,b]=r.useState(()=>localStorage.getItem("theme")==="dark"),[y,j]=r.useState(!1),[u,i]=r.useState(null),[x,d]=r.useState(null);r.useEffect(()=>{localStorage.setItem("theme",o?"dark":"light"),o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[o]),r.useEffect(()=>{const s=localStorage.getItem("session"),n=localStorage.getItem("user");if(s&&n)try{const w=JSON.parse(s),I=JSON.parse(n);w&&w.access_token?(d(w),i(I),Ce(w.access_token),j(!0),console.log("Session restored from localStorage")):(console.log("Invalid session found, clearing..."),localStorage.removeItem("session"),localStorage.removeItem("user"))}catch(w){console.error("Error parsing saved session:",w),localStorage.removeItem("session"),localStorage.removeItem("user")}},[]);const m=(s,n)=>{i(s),d(n),Ce(n.access_token),j(!0),localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("session",JSON.stringify(n))},l=()=>{i(null),d(null),j(!1),Ce(null),localStorage.removeItem("user"),localStorage.removeItem("session")};if(!y)return e.jsx(Is,{onLogin:m});const v=()=>{switch(t){case"dashboard":return e.jsx(ft,{});case"products":return e.jsx(Rs,{});case"orders":return e.jsx(Us,{});case"pos":return e.jsx(Xs,{});case"analytics":return e.jsx(_s,{});case"customers":return e.jsx(zs,{});case"banners":return e.jsx(Ks,{});case"outlook":return e.jsx(Ys,{});case"hr":return e.jsx(Zs,{});case"tasks":return e.jsx(qs,{});case"team":return e.jsx(Gs,{});case"roles":return e.jsx(Ws,{});case"system":return e.jsx(ta,{});case"settings":return e.jsx(Vs,{});case"delivery":return e.jsx(sa,{});default:return e.jsx(ft,{})}};return e.jsx("div",{className:o?"dark":"",children:e.jsxs("div",{className:"flex h-screen bg-white dark:bg-gray-900 transition-colors",children:[e.jsx(Ps,{currentScreen:t,onNavigate:a,collapsed:g,onToggleCollapse:()=>p(!g),onLogout:l,userRole:u?.user_metadata?.role||"admin",userPermissions:u?.user_metadata?.permissions}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Os,{isDarkMode:o,onToggleTheme:()=>b(!o),user:u,onLogout:l}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:v()})]})]})})}function ra({isOpen:t,onClose:a,onCheckout:g,onNavigate:p}){const[o,b]=r.useState([]);r.useEffect(()=>{y()},[t]);const y=()=>{const l=JSON.parse(localStorage.getItem("cart")||"[]");b(l)},j=(l,v)=>{if(v<1)return;const s=o.map(n=>n.id===l?{...n,quantity:v}:n);b(s),localStorage.setItem("cart",JSON.stringify(s))},u=l=>{const v=o.filter(s=>s.id!==l);b(v),localStorage.setItem("cart",JSON.stringify(v))},i=()=>{b([]),localStorage.setItem("cart",JSON.stringify([]))},x=o.reduce((l,v)=>l+v.price*v.quantity,0),d=x*.1,m=x+d;return e.jsx(ce,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e.jsxs(D.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed right-0 top-0 h-full w-full sm:w-[480px] bg-white shadow-2xl z-50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center",children:e.jsx(gt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Shopping Cart"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[o.length," items"]})]})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Y,{className:"w-6 h-6 text-gray-600"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:o.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:e.jsx(gt,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Add some products to get started!"}),e.jsx("button",{onClick:()=>{a(),p("shop")},className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:"Continue Shopping"})]}):e.jsxs(e.Fragment,{children:[o.map(l=>e.jsxs(D.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex gap-4 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-20 h-20 rounded-lg bg-white overflow-hidden flex-shrink-0 shadow-sm",children:e.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:l.name}),l.category&&e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:l.category}),e.jsxs("p",{className:"text-lg font-bold text-red-600",children:["$",l.price.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("button",{onClick:()=>j(l.id,l.quantity-1),className:"w-7 h-7 rounded-lg bg-white border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(At,{className:"w-3 h-3 text-gray-600"})}),e.jsx("span",{className:"w-8 text-center font-semibold text-gray-900",children:l.quantity}),e.jsx("button",{onClick:()=>j(l.id,l.quantity+1),className:"w-7 h-7 rounded-lg bg-white border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(de,{className:"w-3 h-3 text-gray-600"})})]})]}),e.jsx("button",{onClick:()=>u(l.id),className:"p-2 h-fit hover:bg-red-50 rounded-lg transition-colors group",children:e.jsx(X,{className:"w-5 h-5 text-gray-400 group-hover:text-red-600 transition-colors"})})]},l.id)),o.length>0&&e.jsx("button",{onClick:i,className:"w-full py-2 text-sm text-red-600 hover:text-red-700 font-medium",children:"Clear Cart"})]})}),o.length>0&&e.jsxs("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:[e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"font-semibold",children:["$",x.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Tax (10%)"}),e.jsxs("span",{className:"font-semibold",children:["$",d.toFixed(2)]})]}),e.jsxs("div",{className:"border-t border-gray-300 pt-3 flex justify-between text-lg font-bold text-gray-900",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-red-600",children:["$",m.toFixed(2)]})]})]}),e.jsxs("button",{onClick:()=>{g(),a()},className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl transition-all flex items-center justify-center gap-2 group",children:["Proceed to Checkout",e.jsx(Se,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),e.jsx("button",{onClick:()=>{a(),p("shop")},className:"w-full mt-3 py-3 text-gray-600 hover:text-gray-900 font-medium",children:"Continue Shopping"})]})]})]})})}function la({isOpen:t,onClose:a,onNavigate:g}){const[p,o]=r.useState(""),[b,y]=r.useState([]),[j,u]=r.useState(!1);return r.useEffect(()=>{if(!t){o(""),y([]);return}},[t]),r.useEffect(()=>{const x=setTimeout(async()=>{if(!p.trim()){y([]);return}u(!0);try{const d=await ge.getPublic(void 0,p),m=d.products||(Array.isArray(d)?d:[]);y(m)}catch(d){console.error("Search failed:",d)}finally{u(!1)}},300);return()=>clearTimeout(x)},[p]),t?e.jsx(ce,{children:e.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-start justify-center pt-24 px-4",onClick:a,children:e.jsxs(D.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},className:"bg-white w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[e.jsx(se,{className:"w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search games, consoles, accessories...",className:"flex-1 outline-none text-lg text-gray-800 placeholder-gray-400",value:p,onChange:i=>o(i.target.value),autoFocus:!0}),j?e.jsx(os,{className:"w-5 h-5 text-blue-600 animate-spin"}):e.jsx("button",{onClick:a,className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsx(Y,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:b.length>0?e.jsx("div",{className:"p-2",children:b.map(i=>e.jsxs("button",{onClick:()=>{g("product",i.id),a()},className:"w-full flex items-center gap-4 p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-16 h-16 object-cover rounded-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:i.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:i.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-bold text-blue-600",children:["$",i.price]}),e.jsx(Se,{className:"w-4 h-4 text-gray-400"})]})]},i.id))}):p.trim()?e.jsx("div",{className:"p-8 text-center text-gray-500",children:!j&&"No results found"}):e.jsx("div",{className:"p-8 text-center text-gray-400",children:"Start typing to search..."})})]})})}):null}const ia="/assets/games%20up%20word%20black-gfQRNsdU.png",na="/assets/games%20up%20word%20white-0QJbyY9j.png";function da({variant:t="color",className:a="h-10 w-auto object-contain"}){const g=t==="white"?na:ia;return e.jsx("img",{src:g,alt:"Games Up",className:a})}const Bt="/assets/gamesupnew-cCEpXIR9.png";function oa({children:t,currentPage:a,onNavigate:g,isCartOpen:p,onOpenCart:o,onCloseCart:b}){const[y,j]=r.useState(!1),[u,i]=r.useState(!1),[x,d]=r.useState(!1),[m,l]=r.useState(null),[v,s]=r.useState(0),[n,w]=r.useState(!1);r.useEffect(()=>{const C=localStorage.getItem("customerSession");if(C)try{const k=JSON.parse(C);l(k.user)}catch(k){console.error("Error parsing customer session:",k)}I();const $=()=>{j(window.scrollY>20)};return window.addEventListener("scroll",$),()=>window.removeEventListener("scroll",$)},[]);const I=()=>{const C=JSON.parse(localStorage.getItem("cart")||"[]");s(C.length)},A=()=>{localStorage.removeItem("customerSession"),l(null),d(!1)},c=()=>{o(),I()},h=()=>{g("checkout")};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs(D.header,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${y?"bg-white/80 backdrop-blur-xl shadow-lg border-b border-gray-200":"bg-white/60 backdrop-blur-md"}`,children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(D.div,{whileHover:{scale:1.05},className:"flex items-center gap-2 cursor-pointer",onClick:()=>g("home"),children:e.jsx("img",{src:Bt,alt:"Games Up",className:"h-6 w-auto object-contain"})}),e.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[e.jsxs("button",{onClick:()=>g("home"),className:`flex items-center gap-2 font-medium transition-colors ${a==="home"?"text-red-600":"text-gray-700 hover:text-red-600"}`,children:[e.jsx(ht,{className:"w-4 h-4"}),"Home"]}),e.jsxs("button",{onClick:()=>g("shop"),className:`flex items-center gap-2 font-medium transition-colors ${a==="shop"?"text-red-600":"text-gray-700 hover:text-red-600"}`,children:[e.jsx(ut,{className:"w-4 h-4"}),"Shop"]})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[e.jsx(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-lg hover:bg-gray-100 text-gray-700",onClick:()=>w(!0),children:e.jsx(se,{className:"w-5 h-5"})}),e.jsxs(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative p-2 rounded-lg hover:bg-gray-100 text-gray-700",onClick:c,children:[e.jsx(te,{className:"w-5 h-5"}),v>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-600 text-white text-xs font-bold rounded-full flex items-center justify-center",children:v})]}),m?e.jsxs("div",{className:"relative",children:[e.jsxs(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!x),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-100 text-gray-700",children:[e.jsx(Z,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:m.name})]}),e.jsx(ce,{children:x&&e.jsxs(D.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white/90 backdrop-blur-xl rounded-xl shadow-xl border border-gray-200 overflow-hidden",children:[e.jsxs("button",{onClick:()=>{g("profile"),d(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-2 text-gray-700",children:[e.jsx(Z,{className:"w-4 h-4"}),"My Profile"]}),e.jsxs("button",{onClick:()=>{g("orders"),d(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-2 text-gray-700",children:[e.jsx(G,{className:"w-4 h-4"}),"My Orders"]}),e.jsxs("button",{onClick:()=>{g("favorites"),d(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-2 text-gray-700",children:[e.jsx(pe,{className:"w-4 h-4"}),"Favorites"]}),e.jsxs("button",{onClick:A,className:"w-full px-4 py-3 text-left hover:bg-red-50 flex items-center gap-2 text-red-600 border-t border-gray-200",children:[e.jsx(Le,{className:"w-4 h-4"}),"Logout"]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g("login"),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-100 text-gray-700 font-medium",children:[e.jsx(Ge,{className:"w-4 h-4"}),"Login"]}),e.jsxs(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g("signup"),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-red-600 to-red-500 text-white font-medium shadow-lg shadow-red-500/30",children:[e.jsx(We,{className:"w-4 h-4"}),"Sign Up"]})]})]}),e.jsx(D.button,{whileTap:{scale:.95},onClick:()=>i(!u),className:"md:hidden p-2 rounded-lg hover:bg-gray-100",children:u?e.jsx(Y,{className:"w-6 h-6 text-gray-700"}):e.jsx(cs,{className:"w-6 h-6 text-gray-700"})})]})}),e.jsx(ce,{children:u&&e.jsx(D.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white/95 backdrop-blur-xl border-t border-gray-200",children:e.jsxs("div",{className:"px-4 py-4 space-y-2",children:[e.jsxs("button",{onClick:()=>{g("home"),i(!1)},className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 text-gray-700 font-medium",children:[e.jsx(ht,{className:"w-5 h-5"}),"Home"]}),e.jsxs("button",{onClick:()=>{g("shop"),i(!1)},className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 text-gray-700 font-medium",children:[e.jsx(ut,{className:"w-5 h-5"}),"Shop"]}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-600",children:["Signed in as ",e.jsx("span",{className:"font-semibold",children:m.name})]}),e.jsxs("button",{className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 text-gray-700 font-medium",children:[e.jsx(G,{className:"w-5 h-5"}),"My Orders"]}),e.jsxs("button",{onClick:A,className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-red-50 text-red-600 font-medium",children:[e.jsx(Le,{className:"w-5 h-5"}),"Logout"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{g("login"),i(!1)},className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg hover:bg-gray-100 text-gray-700 font-medium",children:[e.jsx(Ge,{className:"w-5 h-5"}),"Login"]}),e.jsxs("button",{onClick:()=>{g("signup"),i(!1)},className:"w-full flex items-center gap-2 px-4 py-3 rounded-lg bg-gradient-to-r from-red-600 to-red-500 text-white font-medium shadow-lg",children:[e.jsx(We,{className:"w-5 h-5"}),"Sign Up"]})]})]})})})]}),e.jsx("main",{className:"pt-16",children:t}),e.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-4",children:e.jsx(da,{variant:"white",className:"h-10 w-auto object-contain"})}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Your ultimate destination for gaming products and digital goods."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"FAQ"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Shop"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"All Products"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Featured"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Best Sellers"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400 text-sm",children:e.jsx("p",{children:"© 2026 Games - Up. All rights reserved."})})]})}),e.jsx(ra,{isOpen:p,onClose:()=>{b(),I()},onCheckout:h,onNavigate:g}),e.jsx(la,{isOpen:n,onClose:()=>w(!1),onNavigate:g})]})}const qe={consoles:Qe,games:ps,accessories:ys,headsets:Pt,storage:us,monitors:hs,pc:gs,mobile:ms};function Nt({onNavigate:t,onOpenCart:a}){const[g,p]=r.useState([]),[o,b]=r.useState([]),[y,j]=r.useState(0),[u,i]=r.useState({title:"SPECIAL OFFER",subtitle:"Up to 50% Off on Selected Items"}),[x,d]=r.useState({badge:"🎮 Your Ultimate Gaming Destination",title:"GAMES UP",subtitle:"Discover exclusive gaming products, accessories, and digital content. Level up your gaming experience today.",ctaPrimary:"Shop Now",ctaSecondary:"Learn More"});r.useEffect(()=>{l(),v();const s=()=>{const n=localStorage.getItem("specialOfferConfig");n&&i(JSON.parse(n));const w=localStorage.getItem("heroConfig");w&&d(JSON.parse(w))};return s(),window.addEventListener("storage",s),window.addEventListener("specialOfferUpdated",s),window.addEventListener("heroConfigUpdated",s),()=>{window.removeEventListener("storage",s),window.removeEventListener("specialOfferUpdated",s),window.removeEventListener("heroConfigUpdated",s)}},[]);const m=s=>{const n=JSON.parse(localStorage.getItem("cart")||"[]");n.push({id:s.id||`temp-${Date.now()}`,name:s.name||"Product",price:s.price||0,image:s.image||"",quantity:1}),localStorage.setItem("cart",JSON.stringify(n)),a()},l=async()=>{try{const s=await fetch(`${F}/system/categories`,{headers:{Authorization:`Bearer ${J}`}});if(s.ok){const n=await s.json();b(n.filter(w=>w.isActive).slice(0,6))}}catch(s){console.error("Error loading categories:",s)}},v=async()=>{try{const s=await fetch(`${F}/products`,{headers:{Authorization:`Bearer ${J}`}});if(s.ok){const n=await s.json();p((n.products||[]).slice(0,8))}}catch(s){console.error("Error loading products:",s)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("section",{className:"relative bg-gradient-to-br from-red-600 via-red-500 to-orange-500 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1vcGFjaXR5PSIwLjA1IiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-30"}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-32 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs(D.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsx("div",{className:"inline-block px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-full text-sm font-semibold mb-6 border border-white/30",children:x.badge}),e.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-black mb-6 text-white leading-tight",children:x.title}),e.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 leading-relaxed font-light",children:x.subtitle}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("shop"),className:"px-8 py-4 bg-white text-red-600 font-bold rounded-lg shadow-2xl flex items-center gap-2 hover:bg-gray-50 transition-all",children:[x.ctaPrimary,e.jsx(Se,{className:"w-5 h-5"})]}),e.jsx(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-4 bg-transparent border-2 border-white text-white font-bold rounded-lg hover:bg-white/10 transition-all",children:x.ctaSecondary})]})]}),e.jsx(D.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative",children:e.jsx("div",{className:"relative aspect-[4/3] bg-white/10 backdrop-blur-lg rounded-3xl border-2 border-white/20 overflow-hidden shadow-2xl",children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(Qe,{className:"w-24 h-24 mx-auto mb-4 opacity-50"}),e.jsx("div",{className:"text-4xl font-bold",children:"1000+"}),e.jsx("div",{className:"text-lg opacity-80",children:"Products Available"})]})})})})]})})]}),e.jsx("section",{className:"py-16 bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"BROWSE BY CATEGORY"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>j(s=>Math.max(0,s-1)),disabled:y===0,className:"p-2 rounded-full border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(kt,{className:"w-5 h-5 text-gray-600"})}),e.jsx("button",{onClick:()=>j(s=>Math.min((o.length||6)-4,s+1)),disabled:y>=(o.length||6)-4,className:"p-2 rounded-full border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(xs,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("button",{onClick:()=>t("shop"),className:"text-red-600 font-semibold hover:text-red-700 flex items-center gap-2",children:["View All",e.jsx(Se,{className:"w-4 h-4"})]})]})]}),e.jsx("div",{className:"overflow-hidden",children:e.jsx(D.div,{className:"flex gap-6",animate:{x:`calc(-${y} * (25% + 0.375rem))`},transition:{type:"spring",stiffness:300,damping:30},children:(o.length>0?o:[{icon:"🎮",name:"Consoles",slug:"consoles"},{icon:"🎯",name:"Games",slug:"games"},{icon:"🎧",name:"Headsets",slug:"headsets"},{icon:"📱",name:"Accessories",slug:"accessories"},{icon:"💾",name:"Storage",slug:"storage"},{icon:"🖥️",name:"Monitors",slug:"monitors"}]).map((s,n)=>{const w=s.slug||s.name.toLowerCase(),I=qe[w]||qe[Object.keys(qe).find(A=>w.includes(A))||""]||G;return e.jsxs(D.button,{onClick:()=>t("shop",void 0,w),className:"relative flex-shrink-0 w-[calc(25%-1.125rem)] flex flex-col items-center justify-center p-8 bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-xl hover:border-red-100 transition-all duration-300 group overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-50 to-orange-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"relative z-10 mb-4 transform group-hover:scale-110 transition-transform duration-300",children:e.jsx(I,{className:"w-12 h-12 text-red-600",strokeWidth:1.5})}),e.jsx("span",{className:"relative z-10 text-sm font-bold text-gray-800 uppercase tracking-wider group-hover:text-red-600 transition-colors",children:s.name})]},s.id||n)})})})]})}),e.jsx("section",{className:"py-8 bg-gradient-to-r from-orange-500 to-red-600",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(ie,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-white",children:[e.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide",children:u.title}),e.jsx("p",{className:"text-2xl font-bold",children:u.subtitle})]})]}),e.jsx("button",{onClick:()=>t("shop"),className:"hidden md:block px-6 py-3 bg-white text-red-600 font-bold rounded-lg hover:bg-gray-50 transition-all",children:"Shop Deals"})]})})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"FEATURED PRODUCTS"}),e.jsxs("button",{onClick:()=>t("shop"),className:"text-red-600 font-semibold hover:text-red-700 flex items-center gap-2",children:["View All",e.jsx(Se,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:g.length>0?g.map((s,n)=>e.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},whileHover:{y:-8},className:"bg-white border-2 border-gray-200 rounded-xl overflow-hidden hover:border-red-500 hover:shadow-xl transition-all cursor-pointer group",onClick:()=>t("shop"),children:[e.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:s.image?e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(G,{className:"w-16 h-16 text-gray-300"})})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 text-sm",children:s.name}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xl font-bold text-red-600",children:["$",s.price.toFixed(2)]}),e.jsx("button",{onClick:w=>{w.stopPropagation(),m(s)},className:"px-3 py-1.5 bg-red-600 text-white text-xs font-semibold rounded hover:bg-red-700 transition-colors",children:"Add to Cart"})]})]})]},s.id)):Array(8).fill(0).map((s,n)=>e.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},whileHover:{y:-8},className:"bg-white border-2 border-gray-200 rounded-xl overflow-hidden hover:border-red-500 hover:shadow-xl transition-all cursor-pointer",onClick:()=>t("shop"),children:[e.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(G,{className:"w-16 h-16 text-gray-300"})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 text-sm",children:["Gaming Product ",n+1]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xl font-bold text-red-600",children:"$59.99"}),e.jsx("button",{onClick:w=>{w.stopPropagation(),m({id:`placeholder-${n}`,name:`Gaming Product ${n+1}`,price:59.99,image:""})},className:"px-3 py-1.5 bg-red-600 text-white text-xs font-semibold rounded hover:bg-red-700 transition-colors",children:"Add to Cart"})]})]})]},n))})]})}),e.jsx("section",{className:"py-16 bg-gray-900",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(D.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-red-600 to-red-500 rounded-2xl p-8 text-white",children:[e.jsx(Qe,{className:"w-12 h-12 mb-4"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"New Arrivals"}),e.jsx("p",{className:"text-red-100 mb-4",children:"Check out the latest gaming gear"}),e.jsx("button",{className:"text-white font-semibold underline hover:no-underline",children:"Shop Now →"})]}),e.jsxs(D.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-orange-600 to-orange-500 rounded-2xl p-8 text-white",children:[e.jsx(je,{className:"w-12 h-12 mb-4"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Best Sellers"}),e.jsx("p",{className:"text-orange-100 mb-4",children:"Top-rated products this month"}),e.jsx("button",{className:"text-white font-semibold underline hover:no-underline",children:"View All →"})]}),e.jsxs(D.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-purple-600 to-purple-500 rounded-2xl p-8 text-white",children:[e.jsx(Pt,{className:"w-12 h-12 mb-4"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Accessories"}),e.jsx("p",{className:"text-purple-100 mb-4",children:"Enhance your gaming setup"}),e.jsx("button",{className:"text-white font-semibold underline hover:no-underline",children:"Explore →"})]})]})})}),e.jsx("section",{className:"py-16 bg-white border-t border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"DEALS OF THE WEEK"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Limited time offers - Don't miss out!"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map((s,n)=>e.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},whileHover:{y:-8},className:"bg-white border-2 border-gray-200 rounded-xl overflow-hidden hover:border-red-500 hover:shadow-xl transition-all cursor-pointer relative",onClick:()=>t("shop"),children:[e.jsx("div",{className:"absolute top-4 right-4 z-10 px-3 py-1 bg-red-600 text-white text-xs font-bold rounded-full",children:"-30%"}),e.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(G,{className:"w-16 h-16 text-gray-300"})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 text-sm",children:["Special Deal Product ",s]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-sm text-gray-400 line-through",children:"$99.99"}),e.jsx("span",{className:"text-xl font-bold text-red-600",children:"$69.99"})]}),e.jsx("button",{className:"w-full py-2 bg-red-600 text-white text-sm font-semibold rounded hover:bg-red-700 transition-colors",children:"Add to Cart"})]})]},s))})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-br from-red-600 to-red-500",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:e.jsxs(D.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Stay Updated"}),e.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Subscribe to get special offers, exclusive deals, and gaming news"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-6 py-4 rounded-lg focus:outline-none focus:ring-4 focus:ring-white/30"}),e.jsx("button",{className:"px-8 py-4 bg-white text-red-600 font-bold rounded-lg hover:bg-gray-50 transition-all whitespace-nowrap",children:"Subscribe"})]})]})})}),e.jsx("section",{className:"py-16 bg-white border-t border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{icon:"🚚",title:"Free Shipping",subtitle:"On orders over $50"},{icon:"🔒",title:"Secure Payment",subtitle:"100% protected"},{icon:"💬",title:"24/7 Support",subtitle:"Dedicated support"},{icon:"↩️",title:"Easy Returns",subtitle:"30-day guarantee"}].map((s,n)=>e.jsxs(D.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:s.icon}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s.subtitle})]},n))})})})]})}function ca({onNavigate:t,onOpenCart:a}){const{formatPrice:g}=re(),[p,o]=it(),[b,y]=r.useState([]),[j,u]=r.useState([]),i=p.get("category"),[x,d]=r.useState(""),[m,l]=r.useState(!0);r.useEffect(()=>{v(),s()},[i]);const v=async()=>{try{const c=await fetch(`${F}/system/categories`,{headers:{Authorization:`Bearer ${J}`}});if(c.ok){const h=await c.json();u(h.filter(C=>C.isActive))}}catch(c){console.error("Error loading categories:",c)}},s=async()=>{l(!0);try{const c=i?`${F}/public/products?category=${i}`:`${F}/public/products`,h=await fetch(c,{headers:{Authorization:`Bearer ${J}`}});if(h.ok){const C=await h.json();y(C.products||[])}}catch(c){console.error("Error loading products:",c)}finally{l(!1)}},n=b.filter(c=>c.name.toLowerCase().includes(x.toLowerCase())||c.description?.toLowerCase().includes(x.toLowerCase())),w=c=>{const h=JSON.parse(localStorage.getItem("cart")||"[]");h.push({id:c.id,name:c.name,price:c.price,image:c.image,quantity:1}),localStorage.setItem("cart",JSON.stringify(h)),a()},I=c=>{const h=JSON.parse(localStorage.getItem("favorites")||"[]"),C=h.findIndex($=>$.id===c.id);C>=0?(h.splice(C,1),alert("Removed from favorites!")):(h.push({id:c.id,name:c.name,price:c.price,image:c.image,category:c.categorySlug,rating:c.rating}),alert("Added to favorites!")),localStorage.setItem("favorites",JSON.stringify(h))},A=c=>JSON.parse(localStorage.getItem("favorites")||"[]").some(C=>C.id===c);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-red-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-gray-900 to-red-600 bg-clip-text text-transparent",children:"Shop All Products"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Browse our extensive collection of gaming products"})]}),e.jsxs("div",{className:"mb-8 flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(se,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:x,onChange:c=>d(c.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent shadow-lg"})]}),e.jsxs(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-4 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl flex items-center gap-2 font-medium hover:bg-white shadow-lg",children:[e.jsx(Ct,{className:"w-5 h-5"}),"Filters"]})]}),e.jsxs("div",{className:"mb-8 flex flex-wrap gap-3",children:[e.jsx(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o({}),className:`px-6 py-3 rounded-xl font-medium transition-all ${i?"bg-white/80 backdrop-blur-sm text-gray-700 hover:bg-white border border-gray-200":"bg-gradient-to-r from-red-600 to-red-500 text-white shadow-lg shadow-red-500/30"}`,children:"All Products"}),j.map(c=>e.jsxs(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o({category:c.slug}),className:`px-6 py-3 rounded-xl font-medium transition-all flex items-center gap-2 ${i===c.slug?"bg-gradient-to-r from-red-600 to-red-500 text-white shadow-lg shadow-red-500/30":"bg-white/80 backdrop-blur-sm text-gray-700 hover:bg-white border border-gray-200"}`,children:[e.jsx("span",{children:c.icon}),c.name]},c.id))]}),m?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading products..."})]}):n.length===0?e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-gray-600 text-xl",children:"No products found."})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map((c,h)=>e.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.05},whileHover:{y:-10},onClick:()=>t("product",c.id),className:"bg-white/90 backdrop-blur-sm rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all border border-gray-100 cursor-pointer group",children:[e.jsxs("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:[c.image?e.jsx("img",{src:c.image,alt:c.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image"}),c.stock<=0&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"Out of Stock"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-2 text-gray-900 line-clamp-1",children:c.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:c.description}),c.rating&&e.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[[...Array(5)].map((C,$)=>e.jsx(je,{className:`w-4 h-4 ${$<c.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},$)),e.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",c.rating,")"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-bold text-red-600",children:g(c.price)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C=>{C.stopPropagation(),I(c)},className:"p-3 rounded-xl border-2 border-gray-300 hover:border-red-500 transition-colors",children:e.jsx(pe,{className:`w-5 h-5 ${A(c.id)?"fill-red-500 text-red-500":"text-gray-400"}`})}),e.jsx(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C=>{C.stopPropagation(),w(c)},disabled:c.stock<=0,className:`p-3 rounded-xl flex items-center gap-2 font-medium ${c.stock>0?"bg-gradient-to-r from-red-600 to-red-500 text-white shadow-lg shadow-red-500/30 hover:shadow-xl":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:e.jsx(te,{className:"w-5 h-5"})})]})]})]})]},c.id))})]})})}function xa({onOpenCart:t,productId:a}){const g=Ft(),{formatPrice:p}=re(),[o,b]=r.useState(null),[y,j]=r.useState(!0),[u,i]=r.useState(0),[x,d]=r.useState(1),[m,l]=r.useState(!1);r.useEffect(()=>{a?v(a):j(!1)},[a]),r.useEffect(()=>{if(o){const n=JSON.parse(localStorage.getItem("favorites")||"[]");l(n.some(w=>w.id===o.id))}},[o]);const v=async n=>{j(!0);try{console.log("Loading product:",n);const w=await fetch(`${F}/products?id=${n}`,{headers:{Authorization:`Bearer ${J}`}});if(w.ok){const I=await w.json();console.log("Product data:",I);const A=I.products?I.products.find(c=>c.id==n):null;A?b({...A,rating:A.rating||4.5,reviews:128,specs:{Platform:"PlayStation 5",Genre:"Action / Adventure",Publisher:"Sony Interactive Entertainment","Release Date":"Nov 09, 2022"}}):console.log("Product not found in list")}else console.error("Failed to fetch product:",w.status)}catch(w){console.error("Error loading product:",w)}finally{j(!1)}},s=()=>{if(!o)return;const n=JSON.parse(localStorage.getItem("cart")||"[]"),w=n.findIndex(I=>I.id===o.id);w>=0?n[w].quantity+=x:n.push({id:o.id,name:o.name,price:o.price,image:o.image,quantity:x}),localStorage.setItem("cart",JSON.stringify(n)),t()};return y?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-red-600"})}):o?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("button",{onClick:()=>g("/shop"),className:"flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors mb-8 group",children:[e.jsx("div",{className:"p-2 bg-white rounded-full shadow-sm group-hover:shadow-md transition-all",children:e.jsx(Ot,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-medium",children:"Back to Shop"})]}),e.jsx("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"p-8 lg:p-12 bg-gray-50 flex flex-col items-center justify-center relative overflow-hidden",children:[e.jsx(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative z-10 w-full max-w-lg aspect-square",children:e.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-contain drop-shadow-2xl hover:scale-105 transition-transform duration-500"})}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-red-100 rounded-full blur-3xl opacity-50 -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-blue-100 rounded-full blur-3xl opacity-50 translate-y-1/2 -translate-x-1/2"})]}),e.jsxs("div",{className:"p-8 lg:p-12 flex flex-col",children:[e.jsxs("div",{className:"mb-auto",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx(D.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"inline-block px-3 py-1 bg-red-100 text-red-600 text-xs font-bold rounded-full uppercase tracking-wider mb-3",children:o.categorySlug||"Gaming"}),e.jsx(D.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2 leading-tight",children:o.name})]}),e.jsx("button",{className:"p-3 rounded-full bg-gray-50 hover:bg-red-50 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(bs,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-1 text-yellow-400",children:[e.jsx(je,{className:"w-5 h-5 fill-current"}),e.jsx("span",{className:"font-bold text-gray-900 ml-1",children:o.rating})]}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsxs("span",{className:"text-gray-600",children:[o.reviews," Reviews"]}),e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("span",{className:`font-medium ${o.stock>0?"text-green-600":"text-red-600"}`,children:o.stock>0?"In Stock":"Out of Stock"})]}),e.jsx(D.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-gray-600 text-lg leading-relaxed mb-8",children:o.description}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:o.specs&&Object.entries(o.specs).map(([n,w],I)=>e.jsxs(D.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3+I*.1},className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[e.jsx("span",{className:"block text-xs text-gray-500 uppercase font-semibold mb-1",children:n}),e.jsx("span",{className:"block text-gray-900 font-medium",children:w})]},n))})]}),e.jsxs("div",{className:"pt-8 border-t border-gray-100 mt-8",children:[e.jsxs("div",{className:"flex items-end justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 text-sm font-medium mb-1 block",children:"Total Price"}),e.jsx("span",{className:"text-4xl font-bold text-gray-900",children:p(o.price*x)})]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>d(Math.max(1,x-1)),className:"w-10 h-10 flex items-center justify-center text-gray-600 hover:bg-white hover:shadow-sm rounded-lg transition-all font-bold text-lg",children:"-"}),e.jsx("span",{className:"w-12 text-center font-bold text-gray-900",children:x}),e.jsx("button",{onClick:()=>d(x+1),className:"w-10 h-10 flex items-center justify-center text-gray-600 hover:bg-white hover:shadow-sm rounded-lg transition-all font-bold text-lg",children:"+"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(D.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,disabled:o.stock<=0,className:`flex-1 py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl shadow-red-500/20 ${o.stock>0?"bg-gradient-to-r from-red-600 to-red-500 text-white hover:from-red-700 hover:to-red-600":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[e.jsx(te,{className:"w-6 h-6"}),"Add to Cart"]}),e.jsx(D.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:toggleFavorite,className:`p-4 rounded-xl border-2 transition-all ${m?"border-red-500 bg-red-50 text-red-500":"border-gray-200 hover:border-red-500 hover:bg-red-50 text-gray-400 hover:text-red-500"}`,children:e.jsx(pe,{className:`w-6 h-6 ${m?"fill-current":""}`})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mt-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Free Shipping"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsx("span",{children:"2 Year Warranty"})]})]})]})]})]})})]})}):e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Product not found"}),e.jsx("button",{onClick:()=>g("/shop"),className:"px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors",children:"Back to Shop"})]})}function ma({mode:t,onSuccess:a,onSwitchMode:g}){const[p,o]=r.useState(""),[b,y]=r.useState(""),[j,u]=r.useState(""),[i,x]=r.useState(""),[d,m]=r.useState(!1),[l,v]=r.useState(!1),[s,n]=r.useState(""),w=async I=>{I.preventDefault(),n(""),v(!0);try{const A=t==="login"?"customer/login":"customer/signup",c=t==="login"?{email:p,password:b}:{email:p,password:b,name:j,phone:i},h=await fetch(`${F}/${A}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify(c)}),C=await h.json();if(!h.ok)throw new Error(C.error||"Authentication failed");localStorage.setItem("customerSession",JSON.stringify(C.session)),a()}catch(A){n(A.message||"An error occurred")}finally{v(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 flex items-center justify-center px-4 py-12",children:e.jsxs(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:[e.jsxs(D.button,{whileHover:{x:-5},onClick:()=>a(),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 font-medium",children:[e.jsx(Ot,{className:"w-5 h-5"}),"Back to Home"]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-gray-100",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-8",children:e.jsx("img",{src:Bt,alt:"Games Up",className:"h-12 w-auto object-contain"})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-gray-900 to-red-600 bg-clip-text text-transparent",children:t==="login"?"Welcome Back!":"Create Account"}),e.jsx("p",{className:"text-gray-600",children:t==="login"?"Sign in to continue shopping":"Join us and start shopping"})]}),s&&e.jsx(D.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl mb-6",children:s}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[t==="signup"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:j,onChange:I=>u(I.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"tel",value:i,onChange:I=>x(I.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your phone (optional)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",value:p,onChange:I=>o(I.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(fs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:d?"text":"password",value:b,onChange:I=>y(I.target.value),required:!0,className:"w-full pl-12 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?e.jsx(rt,{className:"w-5 h-5"}):e.jsx(fe,{className:"w-5 h-5"})})]})]}),t==="login"&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("input",{type:"checkbox",className:"rounded"}),"Remember me"]}),e.jsx("a",{href:"#",className:"text-red-600 hover:text-red-700 font-medium",children:"Forgot password?"})]}),e.jsx(D.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:l,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-500 text-white font-semibold rounded-xl shadow-xl shadow-red-500/30 hover:shadow-2xl transition-shadow disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Please wait...":t==="login"?"Sign In":"Create Account"})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[t==="login"?"Don't have an account? ":"Already have an account? ",e.jsx("button",{onClick:()=>g(t==="login"?"signup":"login"),className:"text-red-600 hover:text-red-700 font-semibold",children:t==="login"?"Sign up":"Sign in"})]})]}),e.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})}function ga({onBack:t,onSuccess:a}){const{formatPrice:g}=re(),[p]=it(),[o,b]=r.useState("info"),[y,j]=r.useState([]),[u,i]=r.useState([]),[x,d]=r.useState([]),[m,l]=r.useState(""),[v,s]=r.useState(!1),[n,w]=r.useState("card"),[I,A]=r.useState(null),[c,h]=r.useState({fullName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",cardNumber:"",cardName:"",expiryDate:"",cvv:""});r.useEffect(()=>{const P=p.get("payment_ref")||p.get("tran_ref"),U=p.get("cart_id")||p.get("orderNumber");P&&U?C(P,U):($(),k())},[p]);const C=async(P,U)=>{s(!0),b("payment");try{const W=await(await fetch(`${F}/payment/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({tranRef:P,orderNumber:U})})).json();if(W.success){const ae=JSON.parse(localStorage.getItem("cart")||"[]");i(ae),j(ae),localStorage.setItem("cart",JSON.stringify([])),b("success")}else alert("Payment verification failed: "+W.message),b("payment")}catch(q){console.error("Payment verification error:",q),alert("Payment verification failed. Please contact support.")}finally{s(!1)}},$=()=>{const P=JSON.parse(localStorage.getItem("cart")||"[]");j(P)},k=async()=>{try{const P=await fetch(`${F}/delivery-options`,{headers:{Authorization:`Bearer ${J}`}});if(P.ok){const U=await P.json();d(U.deliveryOptions||[]),U.deliveryOptions?.length>0&&l(U.deliveryOptions[0].id)}}catch(P){console.error("Error loading delivery options:",P)}},L=P=>{h({...c,[P.target.name]:P.target.value})},S=P=>{P.target.files&&P.target.files[0]&&A(P.target.files[0])},_=async P=>{if(P.preventDefault(),o==="info")b("delivery");else if(o==="delivery")b("payment");else if(o==="payment"){if(n==="instapay"&&!I){alert("Please upload a screenshot of your payment.");return}s(!0);try{let U=null;if(n==="instapay"&&I){const N=new FormData;N.append("image",I);const T=await fetch(`${F}/upload`,{method:"POST",body:N});if(T.ok)U=(await T.json()).url;else throw new Error("Failed to upload payment proof")}const q=localStorage.getItem("customerSession");let W="guest@gamesup.com",ae=c.fullName;if(q){const N=JSON.parse(q);W=N.user.email,ae=N.user.name}const oe=x.find(N=>N.id===m),f={customerEmail:W,customerName:ae,items:y,total:V,deliveryMethod:oe?.name||"Standard Shipping",shippingAddress:{fullName:c.fullName,email:c.email,phone:c.phone,address:c.address,city:c.city,state:c.state,zipCode:c.zipCode},paymentMethod:n,paymentProof:U},O=await fetch(`${F}/customer-orders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify(f)});if(O.ok){const T=(await O.json()).orderNumber;if(n==="card"){const B=await(await fetch(`${F}/payment/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({orderNumber:T,customerName:ae,customerEmail:W,total:V,shippingAddress:f.shippingAddress,items:y})})).json();B.success&&B.redirect_url?window.location.href=B.redirect_url:(alert("Failed to initiate payment. Please try again."),s(!1))}else{const M=JSON.parse(localStorage.getItem("cart")||"[]");i(M),j(M),localStorage.setItem("cart",JSON.stringify([])),b("success"),s(!1)}}else alert("Failed to create order. Please try again."),s(!1)}catch(U){console.error("Error creating order:",U),alert("Failed to create order. Please try again.")}finally{n==="card"||n!=="card"&&s(!1)}}},z=y.reduce((P,U)=>P+U.price*U.quantity,0),le=z*.1,ee=m&&x.find(P=>P.id===m)?.price||0,V=z+le+ee;return o==="success"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-white py-12 px-4",children:e.jsx(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx(D.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ae,{className:"w-12 h-12 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Order Successful!"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Your order has been placed successfully. You'll receive a confirmation email shortly."}),u.length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6 text-left",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Your Digital Items"}),e.jsx("div",{className:"space-y-4",children:u.map((P,U)=>e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("img",{src:P.image,alt:P.name,className:"w-16 h-16 object-cover rounded-md"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900",children:P.name}),P.attributes&&Object.keys(P.attributes).length>0&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Object.entries(P.attributes).map(([q,W])=>e.jsxs("span",{className:"mr-2",children:[q,": ",String(W)]},q))}),e.jsx("p",{className:"text-sm text-gray-500",children:"Digital Product"})]})]}),P.digitalItem?e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-md border border-blue-100",children:[P.digitalItem.code&&e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wider block mb-1",children:"Code"}),e.jsx("div",{className:"font-mono text-lg font-bold text-gray-800 bg-white px-3 py-1 rounded border border-blue-200 inline-block select-all",children:P.digitalItem.code})]}),P.digitalItem.email&&e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wider block mb-1",children:"Email"}),e.jsx("div",{className:"font-mono text-gray-800 bg-white px-3 py-1 rounded border border-blue-200 inline-block select-all",children:P.digitalItem.email})]}),P.digitalItem.password&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wider block mb-1",children:"Password"}),e.jsx("div",{className:"font-mono text-gray-800 bg-white px-3 py-1 rounded border border-blue-200 inline-block select-all",children:P.digitalItem.password})]})]}):e.jsx("div",{className:"mt-3 text-amber-600 text-sm italic",children:"Product details will be sent to your email."})]},U))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Order Total"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:g(V)})]}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>window.print(),className:"px-8 py-4 bg-gray-100 text-gray-900 rounded-xl font-semibold hover:bg-gray-200 transition-all flex items-center gap-2",children:[e.jsx(at,{className:"w-5 h-5"}),"Print Receipt"]}),e.jsx("button",{onClick:a,className:"px-8 py-4 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:"Continue Shopping"})]})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 font-medium mb-4",children:"← Back to Cart"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"})]}),e.jsx("div",{className:"flex items-center justify-center mb-8 gap-4",children:["info","delivery","payment"].map((P,U)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${o===P?"bg-red-600 text-white":["info","delivery"].includes(P)&&["delivery","payment"].includes(o)?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:U+1}),U<2&&e.jsx("div",{className:`w-16 h-1 ${["delivery","payment"].includes(o)&&U===0||o==="payment"&&U===1?"bg-green-500":"bg-gray-200"}`})]},P))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:_,className:"bg-white rounded-2xl shadow-lg p-8",children:[o==="info"&&e.jsxs(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:e.jsx(Z,{className:"w-5 h-5 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",name:"fullName",value:c.fullName,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"John Doe",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:c.email,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"john@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"+1 (555) 000-0000",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-8 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:e.jsx(Ne,{className:"w-5 h-5 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Shipping Address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),e.jsx("input",{type:"text",name:"address",value:c.address,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"123 Main St, Apt 4B",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",name:"city",value:c.city,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"New York",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),e.jsx("input",{type:"text",name:"state",value:c.state,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"NY",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),e.jsx("input",{type:"text",name:"zipCode",value:c.zipCode,onChange:L,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"10001",required:!0})]})]})]}),o==="delivery"&&e.jsxs(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:e.jsx(ne,{className:"w-5 h-5 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Delivery Method"})]}),e.jsx("div",{className:"space-y-4",children:x.length===0?e.jsx("p",{className:"text-gray-600",children:"Loading delivery options..."}):x.map(P=>e.jsxs("label",{className:`flex items-center justify-between p-4 border-2 rounded-xl cursor-pointer transition-all ${m===P.id?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"radio",name:"delivery",value:P.id,checked:m===P.id,onChange:U=>l(U.target.value),className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:P.name}),e.jsx("p",{className:"text-sm text-gray-600",children:P.description}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:P.estimatedDays})]})]}),e.jsx("p",{className:"font-bold text-red-600",children:P.price===0?"FREE":`$${P.price.toFixed(2)}`})]},P.id))})]}),o==="payment"&&e.jsxs(D.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:e.jsx(Fe,{className:"w-5 h-5 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Method"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${n==="card"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"card",checked:n==="card",onChange:P=>w(P.target.value),className:"w-5 h-5 text-red-600 mr-4"}),e.jsx(Fe,{className:"w-6 h-6 text-gray-700 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Credit Card (PayTabs)"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Secure payment via PayTabs gateway"})]})]}),e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${n==="cod"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:n==="cod",onChange:P=>w(P.target.value),className:"w-5 h-5 text-red-600 mr-4"}),e.jsx(ne,{className:"w-6 h-6 text-gray-700 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Cash on Delivery"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pay when you receive your order"})]})]}),e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${n==="instapay"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"instapay",checked:n==="instapay",onChange:P=>w(P.target.value),className:"w-5 h-5 text-red-600 mr-4"}),e.jsx("div",{className:"w-6 h-6 mr-3 flex items-center justify-center text-lg",children:"🏦"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Instapay Transfer"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Transfer and upload screenshot"})]})]})]}),e.jsxs("div",{className:"mt-6 p-6 bg-gray-50 rounded-xl border border-gray-200",children:[n==="card"&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-700 mb-2",children:"You will be redirected to PayTabs to complete your purchase securely."})}),n==="cod"&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-700",children:"Please have the exact amount ready upon delivery."})}),n==="instapay"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Instapay Details:"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Instapay ID: ",e.jsx("span",{className:"font-mono font-bold text-gray-900",children:"username@instapay"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",e.jsx("span",{className:"font-mono font-bold text-gray-900",children:"01234567890"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Payment Screenshot"}),e.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please upload a clear screenshot of the transaction receipt."})]})]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[o!=="info"&&e.jsx("button",{type:"button",onClick:()=>{o==="delivery"&&b("info"),o==="payment"&&b("delivery")},className:"flex-1 py-3 px-6 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Back"}),e.jsx("button",{type:"submit",disabled:v,className:"flex-1 py-3 px-6 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl transition-all disabled:opacity-50",children:v?"Processing...":o==="payment"?"Place Order":"Continue"})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-24",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),e.jsx("div",{className:"space-y-3 mb-4 max-h-64 overflow-y-auto",children:y.map(P=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:P.image,alt:P.name,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm text-gray-900 line-clamp-1",children:P.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",P.quantity]}),e.jsxs("p",{className:"text-sm font-bold text-red-600",children:["$",(P.price*P.quantity).toFixed(2)]})]})]},P.id))}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"font-semibold",children:["$",z.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Delivery"}),e.jsx("span",{className:"font-semibold",children:ee===0?"FREE":`$${ee.toFixed(2)}`})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Tax"}),e.jsxs("span",{className:"font-semibold",children:["$",le.toFixed(2)]})]}),e.jsxs("div",{className:"border-t border-gray-300 pt-2 flex justify-between text-lg font-bold text-gray-900",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-red-600",children:["$",V.toFixed(2)]})]})]})]})})]})]}),e.jsxs("div",{className:"hidden print:block print:fixed print:inset-0 print:bg-white print:z-[100] p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"GamesUp Store"}),e.jsx("p",{className:"text-gray-600",children:"Order Receipt"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:new Date().toLocaleString()})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Customer:"}),e.jsx("span",{children:c.fullName})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Email:"}),e.jsx("span",{children:c.email})]})]}),e.jsxs("table",{className:"w-full mb-8",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-200",children:[e.jsx("th",{className:"text-left py-2",children:"Item"}),e.jsx("th",{className:"text-right py-2",children:"Qty"}),e.jsx("th",{className:"text-right py-2",children:"Price"})]})}),e.jsx("tbody",{children:u.map((P,U)=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsxs("td",{className:"py-2",children:[e.jsx("div",{children:P.name}),P.attributes&&Object.keys(P.attributes).length>0&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Object.entries(P.attributes).map(([q,W])=>e.jsxs("span",{className:"mr-2",children:[q,": ",String(W)]},q))})]}),e.jsx("td",{className:"text-right py-2",children:"1"}),e.jsx("td",{className:"text-right py-2",children:g(P.price||P.amount||0)})]},U))})]}),e.jsx("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:g(V)})]})}),e.jsxs("div",{className:"mt-12 text-center text-sm text-gray-500",children:[e.jsx("p",{children:"Thank you for your purchase!"}),e.jsx("p",{children:"www.gamesup.com"})]})]})]})}function ha({onBack:t}){const[a,g]=r.useState(!1),[p,o]=r.useState(!1),[b,y]=r.useState(null),[j,u]=r.useState({name:"",email:"",phone:"",address:"",city:"",state:"",zipCode:""});r.useEffect(()=>{i()},[]);const i=()=>{const m=localStorage.getItem("customerSession");if(m)try{const l=JSON.parse(m);y(l.user),u({name:l.user.name||"",email:l.user.email||"",phone:l.user.phone||"",address:l.user.address||"",city:l.user.city||"",state:l.user.state||"",zipCode:l.user.zipCode||""})}catch(l){console.error("Error loading user profile:",l)}},x=m=>{u({...j,[m.target.name]:m.target.value})},d=async()=>{o(!0);try{const m=localStorage.getItem("customerSession");if(m){const l=JSON.parse(m);l.user={...l.user,...j},localStorage.setItem("customerSession",JSON.stringify(l)),y(l.user)}g(!1)}catch(m){console.error("Error saving profile:",m)}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 font-medium mb-4",children:"← Back to Home"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),!a&&e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:[e.jsx(ye,{className:"w-4 h-4"}),"Edit Profile"]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-500 p-8 text-white",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-4 border-white/30",children:e.jsx(Z,{className:"w-12 h-12"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-1",children:b?.name||"Guest User"}),e.jsx("p",{className:"text-red-100",children:b?.email||"No email provided"})]})]})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5 text-red-600"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",name:"name",value:j.name,onChange:x,disabled:!a,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:j.email,onChange:x,disabled:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-100 border border-gray-300 rounded-lg cursor-not-allowed",placeholder:"john@example.com"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"tel",name:"phone",value:j.phone,onChange:x,disabled:!a,className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"+1 (555) 000-0000"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5 text-red-600"}),"Default Shipping Address"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),e.jsx("input",{type:"text",name:"address",value:j.address,onChange:x,disabled:!a,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"123 Main St, Apt 4B"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",name:"city",value:j.city,onChange:x,disabled:!a,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"New York"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),e.jsx("input",{type:"text",name:"state",value:j.state,onChange:x,disabled:!a,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"NY"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),e.jsx("input",{type:"text",name:"zipCode",value:j.zipCode,onChange:x,disabled:!a,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"10001"})]})]})]})]}),a&&e.jsxs("div",{className:"flex gap-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{g(!1),i()},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:d,disabled:p,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5"}),p?"Saving...":"Save Changes"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[e.jsxs(D.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Z,{className:"w-6 h-6 text-red-600"})}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Member Since"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:new Date().toLocaleDateString("en-US",{month:"short",year:"numeric"})})]}),e.jsxs(D.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Z,{className:"w-6 h-6 text-green-600"})}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Orders"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:"0"})]}),e.jsxs(D.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Z,{className:"w-6 h-6 text-blue-600"})}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Wishlist Items"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:"0"})]})]})]})})}function ua({onBack:t,onOrderAgain:a,onTrackOrder:g}){const[p,o]=r.useState([]),[b,y]=r.useState(!0),[j,u]=r.useState(null),[i,x]=r.useState(null);r.useEffect(()=>{d()},[]);const d=async()=>{const n=localStorage.getItem("customerSession");if(n)try{const w=JSON.parse(n);x(w.user),await m(w.user.email)}catch(w){console.error("Error loading user session:",w)}y(!1)},m=async n=>{try{const w=await fetch(`${F}/customer-orders?email=${encodeURIComponent(n)}`,{headers:{Authorization:`Bearer ${J}`}});if(w.ok){const I=await w.json();o(I.orders||[])}}catch(w){console.error("Error loading orders:",w)}},l=n=>{a(n.items)},v=n=>{switch(n){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},s=n=>{switch(n){case"pending":return e.jsx(Oe,{className:"w-4 h-4"});case"processing":return e.jsx(yt,{className:"w-4 h-4"});case"shipped":return e.jsx(ne,{className:"w-4 h-4"});case"delivered":return e.jsx(Ae,{className:"w-4 h-4"});default:return e.jsx(G,{className:"w-4 h-4"})}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 font-medium mb-4",children:"← Back to Home"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Orders"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"View and track your order history"})]}),b?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-red-200 border-t-red-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your orders..."})]}):p.length===0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(te,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No orders yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start shopping to see your orders here!"}),e.jsx("button",{onClick:t,className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:"Start Shopping"})]}):e.jsx("div",{className:"space-y-4",children:p.map(n=>e.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-500 p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-100 mb-1",children:["Order #",n.orderNumber]}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",n.total.toFixed(2)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-red-100 mb-1",children:"Order Date"}),e.jsx("p",{className:"font-semibold",children:new Date(n.date).toLocaleDateString()})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-semibold ${v(n.status)}`,children:[s(n.status),n.status.charAt(0).toUpperCase()+n.status.slice(1)]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["via ",n.deliveryMethod]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>u(j?.id===n.id?null:n),className:"flex items-center gap-2 px-4 py-2 border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:[e.jsx(fe,{className:"w-4 h-4"}),j?.id===n.id?"Hide":"View"," Details"]}),e.jsxs("button",{onClick:()=>l(n),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:[e.jsx(yt,{className:"w-4 h-4"}),"Order Again"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(G,{className:"w-4 h-4"}),e.jsxs("span",{children:[n.items.length," item(s)"]})]}),j?.id===n.id&&e.jsxs(D.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Order Items"}),e.jsx("div",{className:"space-y-3",children:n.items.map((w,I)=>e.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("img",{src:w.image,alt:w.name,className:"w-20 h-20 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:w.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",w.quantity]}),e.jsxs("p",{className:"text-sm font-bold text-red-600 mt-1",children:["$",(w.price*w.quantity).toFixed(2)]}),["delivered","completed","paid"].includes(n.status)&&(w.digital_email||w.digital_code||w.digital_password)&&e.jsxs("div",{className:"mt-3 p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsxs("h4",{className:"font-bold text-sm text-green-800 mb-3 flex items-center gap-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),"Digital Account Credentials"]}),e.jsxs("div",{className:"space-y-3",children:[w.digital_email&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-semibold text-green-700 uppercase tracking-wider",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 bg-white px-3 py-2 rounded-lg border border-green-200 text-green-900 text-sm font-mono select-all shadow-sm",children:w.digital_email}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(w.digital_email),className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-100 rounded-lg transition-colors",title:"Copy Email",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),w.digital_password&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-semibold text-green-700 uppercase tracking-wider",children:"Password"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 bg-white px-3 py-2 rounded-lg border border-green-200 text-green-900 text-sm font-mono select-all shadow-sm",children:w.digital_password}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(w.digital_password),className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-100 rounded-lg transition-colors",title:"Copy Password",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),w.digital_code&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-semibold text-green-700 uppercase tracking-wider",children:"License Code"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 bg-white px-3 py-2 rounded-lg border border-green-200 text-green-900 text-sm font-mono select-all shadow-sm tracking-wide",children:w.digital_code}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(w.digital_code),className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-100 rounded-lg transition-colors",title:"Copy Code",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})]})]})]})]},I))}),n.shippingAddress&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Shipping Address"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[n.shippingAddress.street,", ",n.shippingAddress.city,", ",n.shippingAddress.state,", ",n.shippingAddress.zipCode]}),e.jsx("p",{className:"text-sm text-gray-600",children:n.shippingAddress.country})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>g(n.orderNumber),className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Track Order"]})})]})]})]},n.id))})]})})}function ya({onBack:t,onAddToCart:a}){const[g,p]=r.useState([]),[o,b]=r.useState(!0);r.useEffect(()=>{y()},[]);const y=()=>{try{const i=localStorage.getItem("favorites");i&&p(JSON.parse(i))}catch(i){console.error("Error loading favorites:",i)}finally{b(!1)}},j=i=>{const x=g.filter(d=>d.id!==i);p(x),localStorage.setItem("favorites",JSON.stringify(x))},u=i=>{a(i),alert("Added to cart!")};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 font-medium mb-4",children:"← Back to Home"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:e.jsx(pe,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Favorites"}),e.jsxs("p",{className:"text-gray-600",children:[g.length," item(s) in your wishlist"]})]})]})]}),o?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-red-200 border-t-red-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your favorites..."})]}):g.length===0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(pe,{className:"w-10 h-10 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No favorites yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start adding products to your wishlist!"}),e.jsx("button",{onClick:t,className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:"Browse Products"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(i=>e.jsxs(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all group",children:[e.jsxs("div",{className:"relative h-64 bg-gray-100 overflow-hidden",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("button",{onClick:()=>j(i.id),className:"absolute top-4 right-4 p-2 bg-white/90 backdrop-blur-sm rounded-full shadow-lg hover:bg-red-50 transition-colors group",children:e.jsx(pe,{className:"w-5 h-5 text-red-600 fill-red-600"})}),i.category&&e.jsx("div",{className:"absolute top-4 left-4 px-3 py-1 bg-black/60 backdrop-blur-sm rounded-full",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:i.category})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:i.name}),i.rating&&e.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[[...Array(5)].map((x,d)=>e.jsx(je,{className:`w-4 h-4 ${d<i.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},d)),e.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",i.rating,")"]})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",i.price.toFixed(2)]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>u(i),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all",children:[e.jsx(te,{className:"w-4 h-4"}),"Add to Cart"]}),e.jsx("button",{onClick:()=>j(i.id),className:"px-4 py-3 border-2 border-gray-300 text-gray-600 rounded-lg hover:bg-red-50 hover:border-red-300 hover:text-red-600 transition-colors",children:e.jsx(X,{className:"w-4 h-4"})})]})]})]},i.id))}),g.length>0&&e.jsx("div",{className:"mt-8 bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Add All to Cart"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quickly add all ",g.length," favorite items to your cart"]})]}),e.jsxs("button",{onClick:()=>{g.forEach(i=>a(i)),alert(`Added ${g.length} items to cart!`)},className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-lg font-medium shadow-lg shadow-red-500/30 hover:shadow-xl transition-all flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Add All to Cart"]})]})})]})})}function pa({onBack:t}){const[a,g]=r.useState(""),[p,o]=r.useState(null),[b,y]=r.useState(!1),[j,u]=r.useState(""),i=async m=>{m.preventDefault(),y(!0),u(""),o(null);try{const l=await fetch(`${F}/track-order/${a}`,{headers:{Authorization:`Bearer ${J}`}});if(l.ok){const v=await l.json();o(v.order)}else u("Order not found. Please check your order number and try again.")}catch(l){console.error("Error tracking order:",l),u("Failed to track order. Please try again later.")}finally{y(!1)}},x=m=>["pending","processing","shipped","delivered"].indexOf(m),d=[{id:"pending",label:"Order Placed",icon:G,description:"Your order has been received"},{id:"processing",label:"Processing",icon:Oe,description:"We are preparing your order"},{id:"shipped",label:"Shipped",icon:ne,description:"Your order is on the way"},{id:"delivered",label:"Delivered",icon:Ae,description:"Order delivered successfully"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-red-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-900 font-medium mb-4",children:"← Back to Home"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Track Your Order"}),e.jsx("p",{className:"text-gray-600",children:"Enter your order number to track your delivery"})]}),e.jsx(D.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:i,className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(se,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:a,onChange:m=>g(m.target.value),placeholder:"Enter order number (e.g., GU12345678)",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 text-lg",required:!0})]}),e.jsx("button",{type:"submit",disabled:b,className:"px-8 py-4 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl font-semibold shadow-lg shadow-red-500/30 hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Tracking..."]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-5 h-5"}),"Track Order"]})})]})}),j&&e.jsx(D.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-red-50 border-2 border-red-200 rounded-xl p-6 mb-8 text-center",children:e.jsx("p",{className:"text-red-800 font-medium",children:j})}),p&&e.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-500 p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-100 mb-1",children:"Order Number"}),e.jsx("p",{className:"text-2xl font-bold",children:p.orderNumber})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-red-100 mb-1",children:"Order Date"}),e.jsx("p",{className:"font-semibold",children:new Date(p.date).toLocaleDateString()})]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Delivery Status"}),e.jsx("div",{className:"relative",children:d.map((m,l)=>{const v=x(p.status),s=l<=v,n=l===v,w=m.icon;return e.jsxs("div",{className:"relative flex gap-4 pb-8 last:pb-0",children:[l<d.length-1&&e.jsx("div",{className:`absolute left-6 top-12 w-0.5 h-full ${s?"bg-green-500":"bg-gray-200"}`}),e.jsx("div",{className:`relative z-10 w-12 h-12 rounded-full flex items-center justify-center ${s?"bg-green-500 text-white":"bg-gray-200 text-gray-400"} ${n?"ring-4 ring-green-200":""}`,children:e.jsx(w,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsx("p",{className:`font-bold ${s?"text-gray-900":"text-gray-400"}`,children:m.label}),e.jsx("p",{className:`text-sm ${s?"text-gray-600":"text-gray-400"}`,children:m.description}),n&&e.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-green-100 text-green-800 text-xs font-semibold rounded-full",children:"Current Status"})]})]},m.id)})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5 text-red-600"}),"Shipping Address"]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:p.shippingAddress?.fullName}),e.jsx("p",{className:"text-gray-600 mt-1",children:p.shippingAddress?.address}),e.jsxs("p",{className:"text-gray-600",children:[p.shippingAddress?.city,", ",p.shippingAddress?.state," ",p.shippingAddress?.zipCode]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",p.shippingAddress?.phone]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-red-600"}),"Order Items (",p.items?.length||0,")"]}),e.jsx("div",{className:"space-y-3",children:p.items?.map((m,l)=>e.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl",children:[e.jsx("img",{src:m.image,alt:m.name,className:"w-20 h-20 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:m.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",m.quantity]}),e.jsxs("p",{className:"text-sm font-bold text-red-600 mt-1",children:["$",(m.price*m.quantity).toFixed(2)]})]})]},l))}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[e.jsx("span",{children:"Order Total"}),e.jsxs("span",{className:"text-red-600",children:["$",p.total?.toFixed(2)]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5 text-red-600"}),"Delivery Method"]}),e.jsx("p",{className:"text-gray-700 font-medium",children:p.deliveryMethod})]})]})]})})}function ba(){const t=ws(),a=Ft();it();const[g,p]=r.useState(!1),b=(()=>{const d=t.pathname;return d==="/"||d===""?"home":d==="/shop"?"shop":d==="/checkout"?"checkout":d==="/login"?"login":d==="/signup"?"signup":d==="/profile"?"profile":d==="/orders"?"orders":d==="/favorites"?"favorites":d==="/track"?"track":d.startsWith("/product/")?"product":"home"})(),y=t.pathname.startsWith("/product/")?t.pathname.split("/product/")[1]:null,j=(d,m,l)=>{d==="home"?a("/"):d==="shop"?a(l?`/shop?category=${l}`:"/shop"):d==="product"&&m?a(`/product/${m}`):d==="checkout"?a("/checkout"):d==="login"?a("/login"):d==="signup"?a("/signup"):d==="profile"?a("/profile"):d==="orders"?a("/orders"):d==="favorites"?a("/favorites"):d==="track"&&a("/track"),window.scrollTo({top:0,behavior:"smooth"})},u=d=>{const l=[...JSON.parse(localStorage.getItem("cart")||"[]")];d.forEach(v=>{const s=l.findIndex(n=>n.id===v.id);s>=0?l[s].quantity+=v.quantity:l.push({...v})}),localStorage.setItem("cart",JSON.stringify(l)),alert("Items added to cart!"),j("shop")},i=d=>{const m=JSON.parse(localStorage.getItem("cart")||"[]"),l=m.findIndex(v=>v.id===d.id);l>=0?m[l].quantity+=1:m.push({...d,quantity:1}),localStorage.setItem("cart",JSON.stringify(m))};if(b==="login"||b==="signup")return e.jsx(ma,{mode:b,onSuccess:()=>j("home"),onSwitchMode:d=>j(d)});if(b==="checkout")return e.jsx(ga,{onBack:()=>j("shop"),onSuccess:()=>j("shop")});if(b==="profile")return e.jsx(ha,{onBack:()=>j("home")});if(b==="orders")return e.jsx(ua,{onBack:()=>j("home"),onOrderAgain:u,onTrackOrder:d=>{j("track")}});if(b==="favorites")return e.jsx(ya,{onBack:()=>j("home"),onAddToCart:i});if(b==="track")return e.jsx(pa,{onBack:()=>j("home")});const x=()=>{switch(b){case"home":return e.jsx(Nt,{onNavigate:j,onOpenCart:()=>p(!0)});case"shop":return e.jsx(ca,{onNavigate:j,onOpenCart:()=>p(!0)});case"product":return e.jsx(xa,{onOpenCart:()=>p(!0),productId:y});default:return e.jsx(Nt,{onNavigate:j,onOpenCart:()=>p(!0)})}};return e.jsx(oa,{currentPage:b,onNavigate:j,isCartOpen:g,onOpenCart:()=>p(!0),onCloseCart:()=>p(!1),children:x()})}function fa(){return e.jsx($s,{children:e.jsx(ks,{children:e.jsxs(Ss,{children:[e.jsx(pt,{path:"/admin/*",element:e.jsx(aa,{})}),e.jsx(pt,{path:"/*",element:e.jsx(ba,{})})]})})})}zt.createRoot(document.getElementById("root")).render(e.jsx(fa,{}));
